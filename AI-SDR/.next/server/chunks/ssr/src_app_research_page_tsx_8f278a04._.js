module.exports=[34627,a=>{"use strict";a.s(["default",()=>D],34627);var b=a.i(87924),c=a.i(72131),d=a.i(55635),e=a.i(88621),f=a.i(91119),g=a.i(86304),h=a.i(99570),i=a.i(73390),j=a.i(80701),k=a.i(21234),l=a.i(57061),m=a.i(66718),n=a.i(29246),o=a.i(70430),p=a.i(57468),q=a.i(11238),r=a.i(67900),s=a.i(46842),t=a.i(1027),u=a.i(5784),v=a.i(50522),w=a.i(67453),x=a.i(92e3),y=a.i(41710);let z=(0,a.i(70106).default)("rocket",[["path",{d:"M4.5 16.5c-1.5 1.26-2 5-2 5s3.74-.5 5-2c.71-.84.7-2.13-.09-2.91a2.18 2.18 0 0 0-2.91-.09z",key:"m3kijz"}],["path",{d:"m12 15-3-3a22 22 0 0 1 2-3.95A12.88 12.88 0 0 1 22 2c0 2.72-.78 7.5-6 11a22.35 22.35 0 0 1-4 2z",key:"1fmvmk"}],["path",{d:"M9 12H4s.55-3.03 2-4c1.62-1.08 5 0 5 0",key:"1f8sc4"}],["path",{d:"M12 15v5s3.03-.55 4-2c1.08-1.62 0-5 0-5",key:"qeys4"}]]);var A=a.i(69520),B=a.i(46864),C=a.i(68976);function D(){var a,D;let{leads:E}=(0,q.useJazonApp)(),[F,G]=(0,c.useState)(null),[H,I]=(0,c.useState)({company:!1,persona:!1,timing:!1}),[J,K]=(0,c.useState)([]),[L,M]=(0,c.useState)(null),[N,O]=(0,c.useState)(!1),[P,Q]=(0,c.useState)({open:!1,section:null}),[R,S]=(0,c.useState)({}),[T,U]=(0,c.useState)(!1);(0,c.useEffect)(()=>{(async()=>{try{let a=await fetch("/api/leads"),b=await a.json();if(b.success&&b.leads){let a=b.leads.map(a=>({id:a._id,name:a.name,company:a.company?.name||"Unknown",icpScore:a.icp_score?.icp_score||0,_dbLead:a}));K(a)}}catch(a){console.error("Error fetching leads:",a)}})()},[]);let V=(0,c.useMemo)(()=>[...E.map(a=>({...a,_dbLead:null})),...J],[E,J]),W=(0,c.useMemo)(()=>0===V.length?null:V.reduce((a,b)=>b.icpScore>a.icpScore?b:a),[V]),X=F&&V.find(a=>a.id===F)||W;(0,c.useEffect)(()=>{(async()=>{if(!X||!X._dbLead)return M(null);O(!0);try{let a=await fetch(`/api/leads/${X.id}`),b=await a.json();b.success&&M(b.lead)}catch(a){console.error("Error fetching lead data:",a)}finally{O(!1)}})()},[X?.id]);let Y=a=>{if(!L)return;let b={},c=a=>null==a?"":"string"==typeof a?a:"object"==typeof a?a.city&&a.state?`${a.city}, ${a.state}`:a.city?a.city:a.country?a.country:"":String(a);"company"===a?b={industry:c(L.company?.industry),employee_count:L.company?.company_size?.employee_count||"",annual_revenue_usd:L.company?.company_size?.annual_revenue_usd||"",keywords:(L.company?.keywords||[]).join("\n"),sales_motion:c(L.company?.sales_motion),headquarters:c(L.company?.headquarters),linkedin_url:c(L.company?.linkedin_url),website_url:c(L.company?.website_url)}:"persona"===a&&(b={seniority:c(L.persona?.seniority),reports_to:c(L.persona?.reports_to),department:c(L.persona?.department),location:c(L.persona?.location),responsibilities:(L.persona?.responsibilities||[]).join("\n"),pain_points:(L.persona?.pain_points||[]).join("\n"),decision_authority_rationale:c(L.persona?.decision_authority?.rationale),decision_maker_likelihood:c(L.persona?.decision_authority?.decision_maker_likelihood)}),S(b),Q({open:!0,section:a})},Z=async()=>{if(X&&X._dbLead&&P.section){U(!0);try{let a=[];if("company"===P.section){if(R.industry&&a.push({field:"industry",value:R.industry,target:"company"}),R.employee_count&&a.push({field:"employee_count",value:parseFloat(R.employee_count),target:"company.company_size"}),R.annual_revenue_usd&&a.push({field:"annual_revenue_usd",value:parseFloat(R.annual_revenue_usd),target:"company.company_size"}),R.keywords){let b=R.keywords.split("\n").map(a=>a.trim()).filter(a=>a.length>0);a.push({field:"keywords",value:b,target:"company"})}R.sales_motion&&a.push({field:"sales_motion",value:R.sales_motion,target:"company"}),R.headquarters&&a.push({field:"headquarters",value:R.headquarters,target:"company"}),R.linkedin_url&&a.push({field:"linkedin_url",value:R.linkedin_url,target:"company"}),R.website_url&&a.push({field:"website_url",value:R.website_url,target:"company"})}else if("persona"===P.section){if(R.seniority&&a.push({field:"seniority",value:R.seniority,target:"persona"}),R.reports_to&&a.push({field:"reports_to",value:R.reports_to,target:"persona"}),R.department&&a.push({field:"department",value:R.department,target:"persona"}),R.location&&a.push({field:"location",value:R.location,target:"persona"}),R.responsibilities){let b=R.responsibilities.split("\n").map(a=>a.trim()).filter(a=>a.length>0);a.push({field:"responsibilities",value:b,target:"persona"})}if(R.pain_points){let b=R.pain_points.split("\n").map(a=>a.trim()).filter(a=>a.length>0);a.push({field:"pain_points",value:b,target:"persona"})}R.decision_authority_rationale&&a.push({field:"rationale",value:R.decision_authority_rationale,target:"persona.decision_authority"}),R.decision_maker_likelihood&&a.push({field:"decision_maker_likelihood",value:R.decision_maker_likelihood,target:"persona.decision_authority"})}for(let b of a)await fetch(`/api/leads/${X.id}/update-field`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify(b)});let b=await fetch(`/api/leads/${X.id}`),c=await b.json();c.success&&M(c.lead),Q({open:!1,section:null})}catch(a){console.error("Error saving fields:",a),alert("Failed to save changes")}finally{U(!1)}}},{companyAnalysis:$,personaAnalysis:_,triggers:aa,icpScore:ab}=L?.icp_score&&L?.company?{icpScore:{overall:L.icp_score?.icp_score||0,breakdown:{companyFit:{score:L.icp_score.score_breakdown?.company_fit||0,factors:L.icp_score.factor_breakdown?.companyFit?.factors||[{name:"Company size",value:0,weight:30},{name:"Industry match",value:0,weight:25},{name:"Tech stack compatibility",value:0,weight:20}]},personaFit:{score:L.icp_score.score_breakdown?.persona_fit||0,factors:L.icp_score.factor_breakdown?.personaFit?.factors||[{name:"Decision authority",value:0,weight:35},{name:"Seniority level",value:0,weight:20}]},timingFit:{score:L.icp_score.score_breakdown?.timing_fit||0,factors:L.icp_score.factor_breakdown?.timingFit?.factors||[{name:"Active triggers",value:0,weight:40}]}},explanation:L.icp_score.strengths?.join(". ")||"No explanation available"},companyAnalysis:{name:L.company?.name||"Unknown",industry:L.company?.industry||"Unknown",size:L.company?.company_size?.employee_count?`${L.company.company_size.employee_count.toLocaleString()} employees globally`:"Unknown",revenue:L.company?.company_size?.annual_revenue_usd?`$${(L.company.company_size.annual_revenue_usd/1e9).toFixed(1)}B`:"Unknown",structure:L.company?.company_size?.is_public?`Public company${L.company.company_size.ticker?` (${L.company.company_size.ticker})`:""}`:"Private company",techStack:L.company?.technographics?.map(a=>a.name).join(", ")||"Unknown",salesMotion:L.company?.sales_motion||"Unknown"},personaAnalysis:{title:L.title||"Unknown",seniority:L.persona?.seniority||"Unknown",reportingStructure:L.persona?.reports_to||"Unknown",responsibilities:L.persona?.responsibilities||[],painPoints:L.persona?.pain_points||[],decisionAuthority:L.persona?.decision_authority?.rationale||(L.persona?.decision_authority?.decision_maker_likelihood?`Decision maker likelihood: ${L.persona.decision_authority.decision_maker_likelihood}`:"Unknown")},triggers:(L.detected_signals||[]).map(a=>({type:a.type||"general",signal:a.signal||"Signal detected",source:a.source||"Research",strength:a.strength?.toLowerCase()||"medium",recency:a.recency||"Detected in research"}))}:p.mockICPData,ac=(0,c.useMemo)(()=>{if(!X)return[];let a=[];return X.icpScore>=85?(a.push("Strong enterprise fit based on company size and tech stack compatibility"),a.push("Confirmed decision-maker with budget authority for sales tools"),a.push("Active buying signals detected in the last 30 days"),"Qualification"===X.stage&&a.push("High likelihood to convert if engaged via voice escalation"),a.push("Historical conversion rate of 78% for similar profiles")):X.icpScore>=70?(a.push("Moderate fit with some alignment gaps in company profile"),a.push("Decision authority confirmed but budget timeline uncertain"),a.push("Some buying signals present but not as strong as high-fit leads")):(a.push("Weak fit - company size or industry may not align with ideal customer profile"),a.push("Limited buying signals detected"),a.push("May require extended nurture cycle before qualification")),a},[X]);return(0,b.jsxs)(e.SidebarProvider,{style:{"--sidebar-width":"calc(var(--spacing) * 60)","--header-height":"calc(var(--spacing) * 12)"},children:[(0,b.jsx)(d.JazonSidebar,{variant:"inset"}),(0,b.jsxs)(e.SidebarInset,{children:[(0,b.jsx)("div",{className:"flex flex-1 flex-col",children:(0,b.jsxs)("div",{className:"flex flex-1 flex-col gap-6 p-4 md:gap-8 md:p-6",children:[(0,b.jsxs)("div",{className:"flex items-start justify-between gap-4",children:[(0,b.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,b.jsx)("h1",{className:"text-3xl font-semibold text-foreground",children:"Research & ICP Analysis"}),(0,b.jsx)("p",{className:"text-sm text-muted-foreground",children:"Deep intelligence gathering to prove AI understanding"})]}),(0,b.jsxs)("div",{className:"flex items-center gap-2 min-w-0 max-w-md",children:[(0,b.jsx)("label",{className:"text-xs text-muted-foreground shrink-0",children:"Lead:"}),(0,b.jsxs)(j.Select,{value:F||W?.id||"",onValueChange:G,children:[(0,b.jsx)(j.SelectTrigger,{className:"w-full",children:(0,b.jsx)(j.SelectValue,{placeholder:"Choose a lead to analyze"})}),(0,b.jsx)(j.SelectContent,{children:V.sort((a,b)=>b.icpScore-a.icpScore).map(a=>(0,b.jsx)(j.SelectItem,{value:a.id,children:(0,b.jsxs)("div",{className:"flex items-center justify-between w-full gap-4",children:[(0,b.jsx)("span",{className:"font-medium",children:a.name}),(0,b.jsx)("span",{className:"text-muted-foreground",children:a.company}),(0,b.jsxs)(g.Badge,{variant:"outline",className:"ml-auto",children:["ICP ",a.icpScore]})]})},a.id))})]})]})]}),X&&(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("div",{className:"bg-muted/30 rounded-xl p-4 border border-border/50",children:(0,b.jsxs)("div",{className:"flex items-center justify-between gap-6",children:[(0,b.jsxs)("div",{className:"flex items-center gap-6",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("div",{className:`text-5xl font-bold ${(a=X.icpScore)>=85?"text-chart-2":a>=70?"text-chart-4":"text-muted-foreground"}`,children:X.icpScore}),(0,b.jsx)("p",{className:"text-xs text-muted-foreground mt-1 text-center",children:"out of 100"})]}),(0,b.jsx)("div",{className:"h-12 w-px bg-border"}),(0,b.jsxs)("div",{children:[(0,b.jsx)("h2",{className:"text-xl font-semibold mb-1",children:X.name}),(0,b.jsxs)("p",{className:"text-sm text-muted-foreground",children:[X.title," at ",X.company]})]})]}),(0,b.jsxs)("div",{className:"flex flex-col items-end gap-2",children:[(0,b.jsx)(g.Badge,{variant:X.icpScore>=85?"default":X.icpScore>=70?"secondary":"outline",className:"text-sm",children:(D=X.icpScore)>=85?"Excellent Fit":D>=70?"Good Fit":"Weak Fit"}),(0,b.jsxs)("div",{className:"flex items-center gap-1 text-xs text-muted-foreground",children:[(0,b.jsx)(y.Clock,{className:"w-3 h-3"}),(0,b.jsx)("span",{children:"Updated 2 hours ago"})]})]})]})}),(0,b.jsxs)(f.Card,{children:[(0,b.jsxs)(f.CardHeader,{children:[(0,b.jsx)(f.CardTitle,{children:"AI Summary"}),(0,b.jsxs)(f.CardDescription,{children:["Key insights explaining why this lead is a"," ",X.icpScore>=85?"strong":X.icpScore>=70?"moderate":"weak"," ","fit"]})]}),(0,b.jsx)(f.CardContent,{children:(0,b.jsx)("ul",{className:"space-y-3",children:ac.map((a,c)=>(0,b.jsxs)("li",{className:"flex items-start gap-3 text-sm",children:[(0,b.jsx)(w.CheckCircle2,{className:"w-4 h-4 text-chart-2 mt-0.5 shrink-0"}),(0,b.jsx)("span",{className:"text-foreground leading-relaxed",children:a})]},c))})})]}),(0,b.jsxs)("div",{className:"grid gap-6 md:grid-cols-2",children:[(0,b.jsxs)(f.Card,{children:[(0,b.jsx)(f.CardHeader,{children:(0,b.jsxs)("div",{className:"flex items-start justify-between gap-4",children:[(0,b.jsxs)("div",{className:"flex-1",children:[(0,b.jsxs)(f.CardTitle,{className:"flex items-center gap-2",children:[(0,b.jsx)(r.Building2,{className:"w-5 h-5"}),"Company Analysis"]}),(0,b.jsx)(f.CardDescription,{className:"mt-2",children:$.name})]}),(0,b.jsxs)("div",{className:"flex items-center gap-2 flex-shrink-0",children:[(0,b.jsxs)("div",{className:"flex items-center gap-1",children:[(0,b.jsx)(g.Badge,{variant:"secondary",className:"text-xs",children:"LinkedIn"}),(0,b.jsx)(g.Badge,{variant:"secondary",className:"text-xs",children:"CRM"}),(0,b.jsx)(g.Badge,{variant:"outline",className:"text-xs",children:"Perplexity"})]}),L&&(0,b.jsxs)(h.Button,{variant:"ghost",size:"sm",onClick:()=>Y("company"),className:"h-6 px-2 gap-1.5 text-xs",children:[(0,b.jsx)(C.Edit3,{className:"h-3 w-3"}),"Edit"]})]})]})}),(0,b.jsxs)(f.CardContent,{className:"space-y-5",children:[(0,b.jsx)("div",{className:"bg-muted/30 rounded-lg p-4 space-y-3",children:(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-x-6 gap-y-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-xs text-muted-foreground mb-1",children:"Industry"}),(0,b.jsx)("p",{className:"text-sm font-medium",children:$.industry})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-xs text-muted-foreground mb-1",children:"Company Size"}),(0,b.jsx)("p",{className:"text-sm font-medium",children:$.size})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-xs text-muted-foreground mb-1",children:"Annual Revenue"}),(0,b.jsx)("p",{className:"text-sm font-medium",children:$.revenue})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-xs text-muted-foreground mb-1",children:"Structure"}),(0,b.jsx)("p",{className:"text-sm font-medium",children:$.structure})]})]})}),(0,b.jsxs)("div",{children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,b.jsx)("p",{className:"text-xs font-medium text-muted-foreground uppercase tracking-wide",children:"Tech Stack"}),(0,b.jsx)("div",{className:"flex gap-1",children:(0,b.jsx)(g.Badge,{variant:"outline",className:"text-xs",children:"Verified"})})]}),(0,b.jsx)("p",{className:"text-sm leading-relaxed",children:$.techStack})]}),(0,b.jsxs)("div",{children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,b.jsx)("p",{className:"text-xs font-medium text-muted-foreground uppercase tracking-wide",children:"Sales Motion"}),(0,b.jsx)("div",{className:"flex gap-1",children:(0,b.jsx)(g.Badge,{variant:"outline",className:"text-xs",children:"AI Inferred"})})]}),(0,b.jsx)("p",{className:"text-sm leading-relaxed",children:$.salesMotion})]})]})]}),(0,b.jsxs)(f.Card,{children:[(0,b.jsx)(f.CardHeader,{children:(0,b.jsxs)("div",{className:"flex items-start justify-between gap-4",children:[(0,b.jsxs)("div",{className:"flex-1",children:[(0,b.jsxs)(f.CardTitle,{className:"flex items-center gap-2",children:[(0,b.jsx)(s.User,{className:"w-5 h-5"}),"Persona Analysis"]}),(0,b.jsx)(f.CardDescription,{className:"mt-2",children:_.title})]}),(0,b.jsxs)("div",{className:"flex items-center gap-2 flex-shrink-0",children:[(0,b.jsxs)("div",{className:"flex items-center gap-1",children:[(0,b.jsx)(g.Badge,{variant:"secondary",className:"text-xs",children:"LinkedIn"}),(0,b.jsx)(g.Badge,{variant:"outline",className:"text-xs",children:"Conversations"})]}),L&&(0,b.jsxs)(h.Button,{variant:"ghost",size:"sm",onClick:()=>Y("persona"),className:"h-6 px-2 gap-1.5 text-xs",children:[(0,b.jsx)(C.Edit3,{className:"h-3 w-3"}),"Edit"]})]})]})}),(0,b.jsxs)(f.CardContent,{className:"space-y-5",children:[(0,b.jsx)("div",{className:"bg-muted/30 rounded-lg p-4 space-y-3",children:(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-x-6 gap-y-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-xs text-muted-foreground mb-1",children:"Seniority"}),(0,b.jsx)("p",{className:"text-sm font-medium",children:_.seniority})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-xs text-muted-foreground mb-1",children:"Reports To"}),(0,b.jsx)("p",{className:"text-sm font-medium",children:_.reportingStructure})]})]})}),(0,b.jsxs)("div",{children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,b.jsx)("p",{className:"text-xs font-medium text-muted-foreground uppercase tracking-wide",children:"Key Responsibilities"}),(0,b.jsx)(g.Badge,{variant:"outline",className:"text-xs",children:"Verified"})]}),(0,b.jsx)("ul",{className:"space-y-2",children:_.responsibilities.map((a,c)=>(0,b.jsxs)("li",{className:"text-sm flex items-start gap-2",children:[(0,b.jsx)("span",{className:"text-primary mt-0.5",children:"â€¢"}),(0,b.jsx)("span",{className:"leading-relaxed",children:a})]},c))})]}),(0,b.jsxs)("div",{children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,b.jsx)("p",{className:"text-xs font-medium text-muted-foreground uppercase tracking-wide",children:"Pain Points"}),(0,b.jsx)(g.Badge,{variant:"outline",className:"text-xs",children:"AI Inferred"})]}),(0,b.jsx)("ul",{className:"space-y-2",children:_.painPoints.map((a,c)=>(0,b.jsxs)("li",{className:"text-sm flex items-start gap-2",children:[(0,b.jsx)(x.AlertCircle,{className:"w-4 h-4 text-destructive mt-0.5 shrink-0"}),(0,b.jsx)("span",{className:"leading-relaxed",children:a})]},c))})]}),(0,b.jsxs)("div",{children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,b.jsx)("p",{className:"text-xs font-medium text-muted-foreground uppercase tracking-wide",children:"Decision Authority"}),(0,b.jsx)(g.Badge,{variant:"outline",className:"text-xs",children:"Confirmed"})]}),(0,b.jsx)("p",{className:"text-sm leading-relaxed",children:_.decisionAuthority})]})]})]})]}),(0,b.jsxs)(f.Card,{children:[(0,b.jsxs)(f.CardHeader,{children:[(0,b.jsxs)(f.CardTitle,{className:"flex items-center gap-2",children:[(0,b.jsx)(t.Zap,{className:"w-5 h-5 text-chart-4"}),"Detected Triggers"]}),(0,b.jsx)(f.CardDescription,{children:"Real-time buying signals indicating readiness to engage"})]}),(0,b.jsx)(f.CardContent,{children:(0,b.jsx)("div",{className:"space-y-3",children:aa.map((a,c)=>(0,b.jsxs)("div",{className:"bg-muted/20 rounded-lg p-4 border border-border/50",children:[(0,b.jsxs)("div",{className:"flex items-start justify-between gap-4 mb-3",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)(g.Badge,{variant:"high"===a.strength?"default":"secondary",className:"text-xs",children:a.type}),(0,b.jsxs)(g.Badge,{variant:"outline",className:"text-xs",children:[a.strength," strength"]})]}),(0,b.jsx)(g.Badge,{variant:"default",className:"text-xs bg-chart-2 shrink-0",children:"Used in ICP scoring"})]}),(0,b.jsx)("p",{className:"font-medium text-sm mb-3 leading-relaxed",children:a.signal}),(0,b.jsxs)("div",{className:"flex items-center gap-4 text-xs text-muted-foreground pt-2 border-t border-border/30",children:[(0,b.jsxs)("div",{className:"flex items-center gap-1",children:[(0,b.jsx)("span",{children:"Source:"}),(0,b.jsx)("span",{className:"font-medium",children:a.source})]}),(0,b.jsxs)("div",{className:"flex items-center gap-1",children:[(0,b.jsx)(y.Clock,{className:"w-3 h-3"}),(0,b.jsx)("span",{children:a.recency})]})]})]},c))})})]}),(0,b.jsxs)(f.Card,{children:[(0,b.jsxs)(f.CardHeader,{children:[(0,b.jsx)(f.CardTitle,{children:"ICP Score Breakdown"}),(0,b.jsx)(f.CardDescription,{children:"Expand each category to view detailed factor analysis with weighted scoring"})]}),(0,b.jsxs)(f.CardContent,{className:"space-y-3",children:[(0,b.jsxs)(k.Collapsible,{open:H.company,onOpenChange:a=>I(b=>({...b,company:a})),children:[(0,b.jsx)(k.CollapsibleTrigger,{className:"w-full",children:(0,b.jsxs)("div",{className:"flex items-center justify-between p-4 hover:bg-muted/30 rounded-lg transition-colors border border-border/50",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[H.company?(0,b.jsx)(u.ChevronDown,{className:"w-4 h-4 text-muted-foreground"}):(0,b.jsx)(v.ChevronRight,{className:"w-4 h-4 text-muted-foreground"}),(0,b.jsx)("h3",{className:"font-semibold text-base",children:"Company Fit"})]}),(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)("span",{className:"text-xs text-muted-foreground",children:"Score:"}),(0,b.jsx)("span",{className:"text-2xl font-bold text-chart-2",children:ab.breakdown.companyFit.score})]})]})}),(0,b.jsx)(k.CollapsibleContent,{className:"pt-4",children:(0,b.jsx)("div",{className:"space-y-3 px-4 pb-2",children:ab.breakdown.companyFit.factors.map((a,c)=>(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between text-sm",children:[(0,b.jsx)("span",{className:"text-foreground",children:a.name}),(0,b.jsxs)("span",{className:"text-xs text-muted-foreground",children:[a.value,"/100 (",a.weight,"% weight)"]})]}),(0,b.jsx)(i.Progress,{value:a.value,className:"h-2"})]},c))})})]}),(0,b.jsxs)(k.Collapsible,{open:H.persona,onOpenChange:a=>I(b=>({...b,persona:a})),children:[(0,b.jsx)(k.CollapsibleTrigger,{className:"w-full",children:(0,b.jsxs)("div",{className:"flex items-center justify-between p-4 hover:bg-muted/30 rounded-lg transition-colors border border-border/50",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[H.persona?(0,b.jsx)(u.ChevronDown,{className:"w-4 h-4 text-muted-foreground"}):(0,b.jsx)(v.ChevronRight,{className:"w-4 h-4 text-muted-foreground"}),(0,b.jsx)("h3",{className:"font-semibold text-base",children:"Persona Fit"})]}),(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)("span",{className:"text-xs text-muted-foreground",children:"Score:"}),(0,b.jsx)("span",{className:"text-2xl font-bold text-chart-2",children:ab.breakdown.personaFit.score})]})]})}),(0,b.jsx)(k.CollapsibleContent,{className:"pt-4",children:(0,b.jsx)("div",{className:"space-y-3 px-4 pb-2",children:ab.breakdown.personaFit.factors.map((a,c)=>(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between text-sm",children:[(0,b.jsx)("span",{className:"text-foreground",children:a.name}),(0,b.jsxs)("span",{className:"text-xs text-muted-foreground",children:[a.value,"/100 (",a.weight,"% weight)"]})]}),(0,b.jsx)(i.Progress,{value:a.value,className:"h-2"})]},c))})})]}),(0,b.jsxs)(k.Collapsible,{open:H.timing,onOpenChange:a=>I(b=>({...b,timing:a})),children:[(0,b.jsx)(k.CollapsibleTrigger,{className:"w-full",children:(0,b.jsxs)("div",{className:"flex items-center justify-between p-4 hover:bg-muted/30 rounded-lg transition-colors border border-border/50",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[H.timing?(0,b.jsx)(u.ChevronDown,{className:"w-4 h-4 text-muted-foreground"}):(0,b.jsx)(v.ChevronRight,{className:"w-4 h-4 text-muted-foreground"}),(0,b.jsx)("h3",{className:"font-semibold text-base",children:"Timing Fit"})]}),(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)("span",{className:"text-xs text-muted-foreground",children:"Score:"}),(0,b.jsx)("span",{className:"text-2xl font-bold text-chart-2",children:ab.breakdown.timingFit.score})]})]})}),(0,b.jsx)(k.CollapsibleContent,{className:"pt-4",children:(0,b.jsx)("div",{className:"space-y-3 px-4 pb-2",children:ab.breakdown.timingFit.factors.map((a,c)=>(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between text-sm",children:[(0,b.jsx)("span",{className:"text-foreground",children:a.name}),(0,b.jsxs)("span",{className:"text-xs text-muted-foreground",children:[a.value,"/100 (",a.weight,"% weight)"]})]}),(0,b.jsx)(i.Progress,{value:a.value,className:"h-2"})]},c))})})]})]})]}),(0,b.jsxs)("div",{className:"bg-muted/30 rounded-xl p-6 border border-border/50",children:[(0,b.jsx)("div",{className:"flex items-start justify-between gap-6 mb-4",children:(0,b.jsxs)("div",{children:[(0,b.jsx)("h3",{className:"font-semibold mb-1",children:"Next Actions"}),(0,b.jsx)("p",{className:"text-sm text-muted-foreground",children:"Use this research to drive revenue workflows"})]})}),(0,b.jsxs)("div",{className:"flex flex-wrap gap-3",children:[(0,b.jsxs)(h.Button,{size:"default",className:"gap-2",children:[(0,b.jsx)(z,{className:"w-4 h-4"}),"Start outreach using this research"]}),(0,b.jsxs)(h.Button,{variant:"outline",size:"default",className:"gap-2",children:[(0,b.jsx)(A.RefreshCw,{className:"w-4 h-4"}),"Re-run research"]}),(0,b.jsxs)(h.Button,{variant:"outline",size:"default",className:"gap-2",children:[(0,b.jsx)(x.AlertCircle,{className:"w-4 h-4"}),"Override AI decision"]}),(0,b.jsxs)(h.Button,{variant:"outline",size:"default",className:"gap-2",children:[(0,b.jsx)(B.UserCheck,{className:"w-4 h-4"}),"Send to AE for review"]})]})]})]})]})}),(0,b.jsx)(l.Sheet,{open:P.open,onOpenChange:a=>Q({...P,open:a}),children:(0,b.jsxs)(l.SheetContent,{className:"w-[600px] sm:w-[800px] overflow-y-auto",children:[(0,b.jsxs)(l.SheetHeader,{className:"px-6",children:[(0,b.jsxs)(l.SheetTitle,{className:"text-xl font-semibold",children:["Edit ","company"===P.section?"Company":"Persona"," ","Information"]}),(0,b.jsx)(l.SheetDescription,{className:"text-sm text-muted-foreground",children:"Update the fields below. All fields are prefilled with AI research data and can be edited."})]}),(0,b.jsxs)("div",{className:"px-6 py-6 space-y-6",children:["company"===P.section&&(0,b.jsxs)(b.Fragment,{children:[(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(o.Label,{htmlFor:"industry",className:"text-sm font-medium",children:"Industry"}),(0,b.jsx)(m.Input,{id:"industry",value:R.industry||"",onChange:a=>S({...R,industry:a.target.value}),placeholder:"e.g., E-commerce, SaaS, Manufacturing",className:"w-full"})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(o.Label,{htmlFor:"employee_count",className:"text-sm font-medium",children:"Employee Count"}),(0,b.jsx)(m.Input,{id:"employee_count",type:"number",value:R.employee_count||"",onChange:a=>S({...R,employee_count:a.target.value}),placeholder:"e.g., 500",className:"w-full"})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(o.Label,{htmlFor:"annual_revenue_usd",className:"text-sm font-medium",children:"Annual Revenue (USD)"}),(0,b.jsx)(m.Input,{id:"annual_revenue_usd",type:"number",value:R.annual_revenue_usd||"",onChange:a=>S({...R,annual_revenue_usd:a.target.value}),placeholder:"e.g., 50000000",className:"w-full"})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(o.Label,{htmlFor:"headquarters",className:"text-sm font-medium",children:"Headquarters"}),(0,b.jsx)(m.Input,{id:"headquarters",value:R.headquarters||"",onChange:a=>S({...R,headquarters:a.target.value}),placeholder:"e.g., San Francisco, CA",className:"w-full"})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(o.Label,{htmlFor:"linkedin_url",className:"text-sm font-medium",children:"LinkedIn URL"}),(0,b.jsx)(m.Input,{id:"linkedin_url",value:R.linkedin_url||"",onChange:a=>S({...R,linkedin_url:a.target.value}),placeholder:"https://linkedin.com/company/...",className:"w-full"})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(o.Label,{htmlFor:"website_url",className:"text-sm font-medium",children:"Website URL"}),(0,b.jsx)(m.Input,{id:"website_url",value:R.website_url||"",onChange:a=>S({...R,website_url:a.target.value}),placeholder:"https://example.com",className:"w-full"})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(o.Label,{htmlFor:"keywords",className:"text-sm font-medium",children:"Tech Stack / Keywords (one per line)"}),(0,b.jsx)(n.Textarea,{id:"keywords",value:R.keywords||"",onChange:a=>S({...R,keywords:a.target.value}),rows:6,placeholder:"Salesforce HubSpot AWS React",className:"w-full resize-none"})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(o.Label,{htmlFor:"sales_motion",className:"text-sm font-medium",children:"Sales Motion"}),(0,b.jsx)(n.Textarea,{id:"sales_motion",value:R.sales_motion||"",onChange:a=>S({...R,sales_motion:a.target.value}),rows:4,placeholder:"Describe the company's sales approach...",className:"w-full resize-none"})]})]}),"persona"===P.section&&(0,b.jsxs)(b.Fragment,{children:[(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(o.Label,{htmlFor:"seniority",className:"text-sm font-medium",children:"Seniority"}),(0,b.jsx)(m.Input,{id:"seniority",value:R.seniority||"",onChange:a=>S({...R,seniority:a.target.value}),placeholder:"e.g., VP, Director, Manager",className:"w-full"})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(o.Label,{htmlFor:"reports_to",className:"text-sm font-medium",children:"Reports To"}),(0,b.jsx)(m.Input,{id:"reports_to",value:R.reports_to||"",onChange:a=>S({...R,reports_to:a.target.value}),placeholder:"e.g., Chief Revenue Officer",className:"w-full"})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(o.Label,{htmlFor:"department",className:"text-sm font-medium",children:"Department"}),(0,b.jsx)(m.Input,{id:"department",value:R.department||"",onChange:a=>S({...R,department:a.target.value}),placeholder:"e.g., Sales, Marketing, Operations",className:"w-full"})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(o.Label,{htmlFor:"location",className:"text-sm font-medium",children:"Location"}),(0,b.jsx)(m.Input,{id:"location",value:R.location||"",onChange:a=>S({...R,location:a.target.value}),placeholder:"e.g., New York, NY",className:"w-full"})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(o.Label,{htmlFor:"responsibilities",className:"text-sm font-medium",children:"Key Responsibilities (one per line)"}),(0,b.jsx)(n.Textarea,{id:"responsibilities",value:R.responsibilities||"",onChange:a=>S({...R,responsibilities:a.target.value}),rows:6,placeholder:"Sales process optimization Team management Revenue forecasting",className:"w-full resize-none"})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(o.Label,{htmlFor:"pain_points",className:"text-sm font-medium",children:"Pain Points (one per line)"}),(0,b.jsx)(n.Textarea,{id:"pain_points",value:R.pain_points||"",onChange:a=>S({...R,pain_points:a.target.value}),rows:6,placeholder:"Manual data entry Lack of automation Poor lead quality",className:"w-full resize-none"})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(o.Label,{htmlFor:"decision_authority_rationale",className:"text-sm font-medium",children:"Decision Authority Rationale"}),(0,b.jsx)(n.Textarea,{id:"decision_authority_rationale",value:R.decision_authority_rationale||"",onChange:a=>S({...R,decision_authority_rationale:a.target.value}),rows:4,placeholder:"Explain decision-making authority...",className:"w-full resize-none"})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(o.Label,{htmlFor:"decision_maker_likelihood",className:"text-sm font-medium",children:"Decision Maker Likelihood"}),(0,b.jsx)(m.Input,{id:"decision_maker_likelihood",value:R.decision_maker_likelihood||"",onChange:a=>S({...R,decision_maker_likelihood:a.target.value}),placeholder:"e.g., High, Medium, Low",className:"w-full"})]})]})]}),(0,b.jsx)(l.SheetFooter,{className:"px-6 pb-6",children:(0,b.jsxs)("div",{className:"flex items-center gap-3 w-full",children:[(0,b.jsx)(h.Button,{variant:"outline",onClick:()=>Q({open:!1,section:null}),disabled:T,className:"flex-1",children:"Cancel"}),(0,b.jsx)(h.Button,{onClick:Z,disabled:T,className:"flex-1",children:T?"Saving...":"Save All Changes"})]})})]})})]})]})}}];

//# sourceMappingURL=src_app_research_page_tsx_8f278a04._.js.map