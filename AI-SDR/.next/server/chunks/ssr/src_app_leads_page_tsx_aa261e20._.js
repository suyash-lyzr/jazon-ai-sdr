module.exports=[57139,a=>{"use strict";a.s(["default",()=>K],57139);var b=a.i(87924),c=a.i(72131),d=a.i(55635),e=a.i(88621),f=a.i(91119),g=a.i(86304),h=a.i(99570),i=a.i(66718),j=a.i(80701),k=a.i(57061),l=a.i(14574),m=a.i(6015),n=a.i(85259),o=a.i(75083),p=a.i(57468),q=a.i(11238),r=a.i(87532),s=a.i(69012),t=a.i(70106);let u=(0,t.default)("arrow-up-down",[["path",{d:"m21 16-4 4-4-4",key:"f6ql7i"}],["path",{d:"M17 20V4",key:"1ejh1v"}],["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}]]);var v=a.i(92258),w=a.i(63519),x=a.i(63588),y=a.i(41710),z=a.i(67453),A=a.i(92e3);let B=(0,t.default)("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);var C=a.i(20494),D=a.i(73320),E=a.i(49447),F=a.i(8406),G=a.i(69520),H=a.i(96221);let I=(0,t.default)("trash-2",[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]]);var J=a.i(50944);function K(){let{leads:a}=(0,q.useJazonApp)(),t=(0,J.useRouter)(),[K,L]=(0,c.useState)(null),[M,N]=(0,c.useState)("all"),[O,P]=(0,c.useState)("all"),[Q,R]=(0,c.useState)(""),[S,T]=(0,c.useState)(!1),[U,V]=(0,c.useState)(!1),[W,X]=(0,c.useState)([]),[Y,Z]=(0,c.useState)(!0),[$,_]=(0,c.useState)(null);(0,c.useEffect)(()=>{(async()=>{try{Z(!0);let a=await fetch("/api/leads"),b=await a.json();if(b.success&&b.leads){let a=b.leads.filter(a=>"icp_scored"===a.status).map(a=>({id:a._id,name:a.name,email:a.email||"N/A",company:a.company?.name||"Unknown",title:a.title,icpScore:a.icp_score?.icp_score||0,stage:"Qualification",channel:"Email",status:"Active",lastContact:"Not contacted yet",aiRecommendation:a.icp_score?.strengths?.[0]||"Processing...",industry:a.company?.industry||"Unknown",companySize:a.company?.company_size?.employee_count?`${a.company.company_size.employee_count.toLocaleString()} employees`:"Unknown",triggers:a.detected_signals?.map(a=>a.signal)||[],source:a.source||"CSV",ingestedAt:new Date(a.createdAt).toLocaleDateString(),importedBy:"CSV Upload",originTrigger:"CSV upload from Setup page",_dbLead:a}));X(a)}}catch(a){console.error("Error fetching leads:",a)}finally{Z(!1)}})()},[]);let aa=(0,c.useMemo)(()=>[...a,...W],[a,W]),ab=K?aa.find(a=>a.id===K):null,ac=K&&p.mockConversations[K]||[],ad=K?p.mockQualificationData[K]:null,ae=K?p.mockMeetings.find(a=>a.leadId===K):null,af=ac.filter(a=>"voice"===a.channel),ag=(0,c.useMemo)(()=>aa.filter(a=>{let b=a.name.toLowerCase().includes(Q.toLowerCase())||a.company.toLowerCase().includes(Q.toLowerCase()),c="all"===M||a.stage===M,d="all"===O||a.source?.toLowerCase()===O.toLowerCase();return b&&c&&d}),[aa,Q,M,O]),ah=a=>a>=85?"text-chart-2":a>=70?"text-chart-4":"text-muted-foreground",ai=async()=>{V(!0);try{console.log("ðŸ”„ Refreshing leads with Research Agent...");let a=await fetch("/api/leads/refresh",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({})}),b=await a.json();if(!a.ok)throw Error(b.error||b.message||"Failed to refresh leads");console.log("âœ… Refresh completed:",b),console.log("ðŸ“Š Processed:",b.processed,"leads"),console.log("ðŸ“¥ Agent responses:",b.responses),b.responses&&b.responses.length>0&&b.responses.forEach((a,b)=>{console.log(`
ðŸ“‹ Response ${b+1} for ${a.leadName} (${a.leadCompany}):`),console.log(JSON.stringify(a.response,null,2))}),b.errors&&b.errors.length>0&&console.warn("âš ï¸ Errors during refresh:",b.errors),alert(`Refresh completed! Processed ${b.processed} lead(s). Check console for details.`);let c=await fetch("/api/leads"),d=await c.json();if(d.success&&d.leads){let a=d.leads.filter(a=>"icp_scored"===a.status).map(a=>({id:a._id,name:a.name,email:a.email||"N/A",company:a.company?.name||"Unknown",title:a.title,icpScore:a.icp_score?.icp_score||0,stage:"Qualification",channel:"Email",status:"Active",lastContact:"Not contacted yet",aiRecommendation:a.icp_score?.strengths?.[0]||"Processing...",industry:a.company?.industry||"Unknown",companySize:a.company?.company_size?.employee_count?`${a.company.company_size.employee_count.toLocaleString()} employees`:"Unknown",triggers:a.detected_signals?.map(a=>a.signal)||[],source:a.source||"CSV",ingestedAt:new Date(a.createdAt).toLocaleDateString(),importedBy:"CSV Upload",originTrigger:"CSV upload from Setup page",_dbLead:a}));X(a)}}catch(a){console.error("âŒ Refresh error:",a),alert(`Error: ${a.message||"Failed to refresh leads"}`)}finally{V(!1)}},aj=async a=>{if(confirm("Are you sure you want to delete this lead? This will PERMANENTLY remove ALL related data including:\n\nâ€¢ Research & ICP scores\nâ€¢ Detected signals\nâ€¢ Outreach campaigns\nâ€¢ Outreach strategy & copy\nâ€¢ Outreach events\nâ€¢ Field overrides\nâ€¢ Company & Persona (if not used by other leads)\n\nThis action cannot be undone.")){_(a);try{let b=await fetch(`/api/leads/${a}`,{method:"DELETE"}),c=await b.json();if(c.success){X(b=>b.filter(b=>b.id!==a)),K===a&&L(null),alert("âœ… Lead and ALL related data deleted successfully!\n\nDeleted:\nâ€¢ Lead\nâ€¢ Research & ICP scores\nâ€¢ Outreach campaigns\nâ€¢ Outreach strategy & copy\nâ€¢ Outreach events\nâ€¢ Field overrides\nâ€¢ Company & Persona (if not shared)");let b=await fetch("/api/leads"),c=await b.json();if(c.success&&c.leads){let a=c.leads.filter(a=>"icp_scored"===a.status).map(a=>({id:a._id,name:a.name,email:a.email||"N/A",company:a.company?.name||"Unknown",title:a.title,icpScore:a.icp_score?.icp_score||0,stage:"Qualification",channel:"Email",status:"Active",lastContact:"Not contacted yet",aiRecommendation:a.icp_score?.strengths?.[0]||"Processing...",industry:a.company?.industry||"Unknown",companySize:a.company?.company_size?.employee_count?`${a.company.company_size.employee_count.toLocaleString()} employees`:"Unknown",triggers:a.detected_signals?.map(a=>a.signal)||[],source:a.source||"CSV",ingestedAt:new Date(a.createdAt).toLocaleDateString(),importedBy:"CSV Upload",originTrigger:"CSV upload from Setup page",_dbLead:a}));X(a)}}else alert(`Failed to delete lead: ${c.message||c.error}`)}catch(a){console.error("Error deleting lead:",a),alert("Failed to delete lead. Please try again.")}finally{_(null)}}},ak=a=>{switch(a){case"Qualification":case"Meeting Scheduled":return"default";case"Engaged":return"secondary";default:return"outline"}};return(0,b.jsxs)(e.SidebarProvider,{style:{"--sidebar-width":"calc(var(--spacing) * 60)","--header-height":"calc(var(--spacing) * 12)"},children:[(0,b.jsx)(d.JazonSidebar,{variant:"inset"}),(0,b.jsx)(e.SidebarInset,{className:"!overflow-x-hidden !max-w-full",children:(0,b.jsx)("div",{className:"flex flex-1 flex-col overflow-hidden w-full max-w-full",children:(0,b.jsxs)("div",{className:"flex flex-1 flex-col gap-4 p-4 md:gap-6 md:p-6 overflow-y-auto overflow-x-hidden w-full",children:[(0,b.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,b.jsx)("h1",{className:"text-3xl font-semibold text-foreground",children:"Leads"}),(0,b.jsx)("p",{className:"text-sm text-muted-foreground",children:"AI-powered system of record where Jazon evaluates, qualifies, and decides next actions for every lead."})]}),(0,b.jsx)(f.Card,{className:"w-full",children:(0,b.jsx)(f.CardContent,{className:"pt-6",children:(0,b.jsxs)("div",{className:"flex flex-col gap-4 md:flex-row md:items-center md:justify-between w-full",children:[(0,b.jsxs)("div",{className:"flex flex-1 gap-2 min-w-0",children:[(0,b.jsxs)("div",{className:"relative flex-1 max-w-sm",children:[(0,b.jsx)(r.Search,{className:"absolute left-2.5 top-2.5 h-4 w-4 text-muted-foreground"}),(0,b.jsx)(i.Input,{placeholder:"Search leads...",className:"pl-8",value:Q,onChange:a=>R(a.target.value)})]}),(0,b.jsxs)(j.Select,{value:M,onValueChange:N,children:[(0,b.jsxs)(j.SelectTrigger,{className:"w-[180px]",children:[(0,b.jsx)(s.Filter,{className:"w-4 h-4 mr-2"}),(0,b.jsx)(j.SelectValue,{placeholder:"Filter by stage"})]}),(0,b.jsxs)(j.SelectContent,{children:[(0,b.jsx)(j.SelectItem,{value:"all",children:"All Stages"}),(0,b.jsx)(j.SelectItem,{value:"Qualification",children:"Qualification"}),(0,b.jsx)(j.SelectItem,{value:"Engaged",children:"Engaged"}),(0,b.jsx)(j.SelectItem,{value:"Meeting Scheduled",children:"Meeting Scheduled"}),(0,b.jsx)(j.SelectItem,{value:"Research",children:"Research"}),(0,b.jsx)(j.SelectItem,{value:"Disqualified",children:"Disqualified"})]})]}),(0,b.jsxs)(j.Select,{value:O,onValueChange:P,children:[(0,b.jsxs)(j.SelectTrigger,{className:"w-[180px]",children:[(0,b.jsx)(C.Database,{className:"w-4 h-4 mr-2"}),(0,b.jsx)(j.SelectValue,{placeholder:"Filter by source"})]}),(0,b.jsxs)(j.SelectContent,{children:[(0,b.jsx)(j.SelectItem,{value:"all",children:"All Sources"}),(0,b.jsx)(j.SelectItem,{value:"apollo",children:"Apollo"}),(0,b.jsx)(j.SelectItem,{value:"salesforce",children:"Salesforce"}),(0,b.jsx)(j.SelectItem,{value:"hubspot",children:"HubSpot"}),(0,b.jsx)(j.SelectItem,{value:"csv",children:"CSV"}),(0,b.jsx)(j.SelectItem,{value:"manual",children:"Manual"})]})]})]}),(0,b.jsxs)("div",{className:"flex items-center gap-2 flex-shrink-0",children:[(0,b.jsxs)(g.Badge,{variant:"secondary",className:"whitespace-nowrap",children:[ag.length," leads"]}),(0,b.jsx)(h.Button,{variant:"outline",size:"sm",className:"gap-2 whitespace-nowrap",onClick:ai,disabled:U,children:U?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(H.Loader2,{className:"w-4 h-4 animate-spin"}),"Refreshing..."]}):(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(G.RefreshCw,{className:"w-4 h-4"}),"Refresh Leads"]})}),(0,b.jsxs)(h.Button,{variant:"default",size:"sm",className:"gap-2 whitespace-nowrap bg-primary text-primary-foreground hover:bg-primary/90 shadow-sm",onClick:()=>t.push("/leads/outbound"),children:[(0,b.jsx)(F.Sparkles,{className:"w-4 h-4"}),"Find Outbound Leads"]}),(0,b.jsxs)(l.Dialog,{open:S,onOpenChange:T,children:[(0,b.jsx)(l.DialogTrigger,{asChild:!0,children:(0,b.jsxs)(h.Button,{variant:"outline",size:"sm",className:"gap-2 whitespace-nowrap",children:[(0,b.jsx)(B,{className:"w-4 h-4"}),"Add Leads"]})}),(0,b.jsxs)(l.DialogContent,{children:[(0,b.jsxs)(l.DialogHeader,{children:[(0,b.jsx)(l.DialogTitle,{children:"Add Leads"}),(0,b.jsx)(l.DialogDescription,{children:"Choose how to add leads to Jazon for AI processing"})]}),(0,b.jsxs)("div",{className:"grid gap-3 py-4",children:[(0,b.jsx)(h.Button,{variant:"outline",className:"h-auto p-4 justify-start",onClick:()=>{T(!1)},children:(0,b.jsxs)("div",{className:"flex items-start gap-3 w-full",children:[(0,b.jsx)(C.Database,{className:"w-5 h-5 mt-0.5 text-primary"}),(0,b.jsxs)("div",{className:"flex-1 text-left",children:[(0,b.jsx)("p",{className:"font-medium",children:"Sync from CRM"}),(0,b.jsx)("p",{className:"text-xs text-muted-foreground mt-1",children:"Connect Salesforce or HubSpot for automatic lead sync (demo)"})]})]})}),(0,b.jsx)(h.Button,{variant:"outline",className:"h-auto p-4 justify-start",onClick:()=>{T(!1)},children:(0,b.jsxs)("div",{className:"flex items-start gap-3 w-full",children:[(0,b.jsx)(D.Upload,{className:"w-5 h-5 mt-0.5 text-primary"}),(0,b.jsxs)("div",{className:"flex-1 text-left",children:[(0,b.jsx)("p",{className:"font-medium",children:"One-time CSV Upload"}),(0,b.jsx)("p",{className:"text-xs text-muted-foreground mt-1",children:"For pilots or demos only. Configure in Setup for production use."})]})]})})]})]})]})]})]})})}),(0,b.jsxs)(f.Card,{className:"w-full overflow-hidden",children:[(0,b.jsxs)(f.CardHeader,{children:[(0,b.jsx)(f.CardTitle,{children:"All Leads"}),(0,b.jsx)(f.CardDescription,{children:"Click any lead to drill down into AI decision reasoning and evidence"})]}),(0,b.jsx)(f.CardContent,{className:"p-0 w-full overflow-hidden",children:(0,b.jsx)("div",{className:"overflow-x-auto w-full pl-4",style:{maxWidth:"calc(100vw - var(--sidebar-width) - 2rem)"},children:(0,b.jsx)(n.TooltipProvider,{children:(0,b.jsxs)(m.Table,{className:"min-w-max",children:[(0,b.jsx)(m.TableHeader,{children:(0,b.jsxs)(m.TableRow,{children:[(0,b.jsx)(m.TableHead,{children:"Lead"}),(0,b.jsx)(m.TableHead,{children:"Company"}),(0,b.jsx)(m.TableHead,{children:(0,b.jsxs)("div",{className:"flex items-center gap-1",children:["ICP Score",(0,b.jsx)(u,{className:"w-3 h-3"})]})}),(0,b.jsx)(m.TableHead,{children:"Stage"}),(0,b.jsx)(m.TableHead,{children:"Lead Source"}),(0,b.jsx)(m.TableHead,{children:"Ingestion Date"}),(0,b.jsx)(m.TableHead,{children:"Channel"}),(0,b.jsx)(m.TableHead,{children:"Last Contact"}),(0,b.jsx)(m.TableHead,{className:"font-semibold",children:(0,b.jsxs)("div",{className:"flex items-center gap-1.5",children:["AI Recommendation",(0,b.jsxs)(n.Tooltip,{children:[(0,b.jsx)(n.TooltipTrigger,{asChild:!0,children:(0,b.jsx)(E.HelpCircle,{className:"w-3.5 h-3.5 text-muted-foreground cursor-help"})}),(0,b.jsx)(n.TooltipContent,{children:(0,b.jsx)("p",{children:"Hover over recommendations to see why Jazon made this decision"})})]})]})})]})}),(0,b.jsx)(m.TableBody,{children:ag.map(a=>{var c,d,e;return(0,b.jsxs)(m.TableRow,{className:"cursor-pointer hover:bg-muted/50 transition-colors",onClick:()=>L(a.id),children:[(0,b.jsx)(m.TableCell,{children:(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"font-medium",children:a.name}),(0,b.jsx)("p",{className:"text-xs text-muted-foreground",children:a.title})]})}),(0,b.jsx)(m.TableCell,{children:(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"font-medium",children:a.company}),(0,b.jsx)("p",{className:"text-xs text-muted-foreground",children:a.industry})]})}),(0,b.jsx)(m.TableCell,{children:(0,b.jsxs)(n.Tooltip,{children:[(0,b.jsx)(n.TooltipTrigger,{asChild:!0,children:(0,b.jsxs)("div",{className:"flex flex-col items-center gap-1",children:[(0,b.jsx)("div",{className:`flex items-center justify-center w-12 h-12 rounded-lg ${(c=a.icpScore)>=85?"bg-chart-2/10":c>=70?"bg-chart-4/10":"bg-muted"}`,children:(0,b.jsx)("span",{className:`text-lg font-bold ${ah(a.icpScore)}`,children:a.icpScore})}),(0,b.jsx)("span",{className:"text-xs text-muted-foreground",children:(d=a.icpScore)>=85?"High fit":d>=70?"Medium fit":"Low fit"})]})}),(0,b.jsx)(n.TooltipContent,{children:(0,b.jsxs)("p",{children:[a.icpScore>=85?"High fit":a.icpScore>=70?"Medium fit":"Low fit"," - ",a.icpScore,"/100 ICP score"]})})]})}),(0,b.jsx)(m.TableCell,{children:(0,b.jsxs)(n.Tooltip,{children:[(0,b.jsx)(n.TooltipTrigger,{asChild:!0,children:(0,b.jsx)(g.Badge,{variant:ak(a.stage),className:"cursor-help",children:a.stage})}),(0,b.jsx)(n.TooltipContent,{children:(0,b.jsx)("p",{children:(a=>{switch(a){case"Research":return"AI validating ICP fit before initiating outreach";case"Engaged":return"AI nurturing with multi-channel sequence";case"Qualification":return"AI validating BANT signals (Need, Authority, Timeline, Budget)";case"Meeting Scheduled":return"Fully qualified - AI prepared AE handoff";case"Disqualified":return"AI determined low fit - saved AE time";default:return"AI processing lead"}})(a.stage)})})]})}),(0,b.jsx)(m.TableCell,{children:(0,b.jsxs)("div",{className:"flex items-center gap-1.5",children:["Apollo"===a.source&&(0,b.jsx)(r.Search,{className:"w-3.5 h-3.5 text-chart-3"}),"Salesforce"===a.source&&(0,b.jsx)(C.Database,{className:"w-3.5 h-3.5 text-primary"}),"HubSpot"===a.source&&(0,b.jsx)(C.Database,{className:"w-3.5 h-3.5 text-chart-2"}),"CSV"===a.source&&(0,b.jsx)(D.Upload,{className:"w-3.5 h-3.5 text-muted-foreground"}),(0,b.jsx)(g.Badge,{variant:"outline",className:`text-xs ${"Apollo"===a.source?"border-chart-3/30 bg-chart-3/5 text-chart-3":"Salesforce"===a.source?"border-primary/30 bg-primary/5":"HubSpot"===a.source?"border-chart-2/30 bg-chart-2/5 text-chart-2":""}`,children:a.source||"Unknown"})]})}),(0,b.jsx)(m.TableCell,{children:(0,b.jsx)("span",{className:"text-sm text-muted-foreground",children:a.ingestedAt||"Not recorded"})}),(0,b.jsx)(m.TableCell,{children:(0,b.jsxs)(n.Tooltip,{children:[(0,b.jsx)(n.TooltipTrigger,{asChild:!0,children:(0,b.jsxs)("div",{className:"flex items-center gap-1.5 cursor-help",children:[(e=a.channel).includes("Email")?(0,b.jsx)(v.Mail,{className:"w-3 h-3"}):e.includes("Voice")?(0,b.jsx)(w.Phone,{className:"w-3 h-3"}):e.includes("LinkedIn")?(0,b.jsx)(x.MessageSquare,{className:"w-3 h-3"}):(0,b.jsx)(v.Mail,{className:"w-3 h-3"}),(0,b.jsx)("span",{className:"text-sm",children:a.channel})]})}),(0,b.jsx)(n.TooltipContent,{children:(0,b.jsx)("p",{children:a.channel.includes("Voice")?"Voice is only triggered when ICP score and engagement thresholds are met":"Multi-channel sequence. Voice escalation occurs when thresholds are met"})})]})}),(0,b.jsx)(m.TableCell,{children:(0,b.jsxs)("div",{className:"flex items-center gap-1.5 text-sm text-muted-foreground",children:[(0,b.jsx)(y.Clock,{className:"w-3 h-3"}),a.lastContact]})}),(0,b.jsx)(m.TableCell,{className:"max-w-xs",children:(0,b.jsxs)(n.Tooltip,{children:[(0,b.jsx)(n.TooltipTrigger,{asChild:!0,children:(0,b.jsx)("p",{className:"text-sm font-medium text-foreground truncate cursor-help",children:a.aiRecommendation})}),(0,b.jsxs)(n.TooltipContent,{className:"max-w-xs",children:[(0,b.jsx)("p",{className:"font-medium mb-1",children:"Why?"}),(0,b.jsx)("p",{className:"text-xs",children:(a=>{let b=[];return a.icpScore>=85&&b.push(`ICP score ${a.icpScore}`),"Qualification"===a.stage&&b.push("High engagement signals"),"Meeting Scheduled"===a.stage&&b.push("BANT confirmed"),b.join(" â€¢ ")||"Evaluating lead"})(a)})]})]})}),(0,b.jsx)(m.TableCell,{className:"text-right",children:a._dbLead?(0,b.jsx)(n.TooltipProvider,{children:(0,b.jsxs)(n.Tooltip,{children:[(0,b.jsx)(n.TooltipTrigger,{asChild:!0,children:(0,b.jsx)(h.Button,{variant:"ghost",size:"icon",onClick:b=>{b.stopPropagation(),aj(a.id)},disabled:$===a.id,className:"h-8 w-8 text-destructive hover:text-destructive hover:bg-destructive/10",children:$===a.id?(0,b.jsx)(H.Loader2,{className:"h-4 w-4 animate-spin"}):(0,b.jsx)(I,{className:"h-4 w-4"})})}),(0,b.jsx)(n.TooltipContent,{children:(0,b.jsx)("p",{children:"Delete lead and all related data"})})]})}):(0,b.jsx)("span",{className:"text-xs text-muted-foreground",children:"Mock"})})]},a.id)})})]})})})})]})]})})}),(0,b.jsx)(k.Sheet,{open:!!K,onOpenChange:a=>!a&&L(null),children:(0,b.jsx)(k.SheetContent,{className:"sm:max-w-2xl overflow-y-auto",children:ab&&(0,b.jsxs)(b.Fragment,{children:[(0,b.jsxs)(k.SheetHeader,{children:[(0,b.jsx)(k.SheetTitle,{children:ab.name}),(0,b.jsxs)(k.SheetDescription,{children:[ab.title," at ",ab.company]})]}),(0,b.jsxs)("div",{className:"mt-6 space-y-6 px-4 md:px-6",children:["Apollo"===ab.source&&ab.sourceMetadata?.apolloListName&&(0,b.jsxs)(f.Card,{className:"border-chart-3/30 bg-chart-3/5",children:[(0,b.jsx)(f.CardHeader,{className:"pb-3",children:(0,b.jsxs)(f.CardTitle,{className:"text-sm flex items-center gap-2",children:[(0,b.jsx)(r.Search,{className:"w-4 h-4"}),"Lead Source"]})}),(0,b.jsxs)(f.CardContent,{children:[(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-xs text-muted-foreground mb-1",children:"Source"}),(0,b.jsx)("div",{className:"flex items-center gap-1.5",children:(0,b.jsx)(g.Badge,{variant:"outline",className:"text-xs border-chart-3/30 bg-chart-3/10 text-chart-3",children:"Apollo.io"})})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-xs text-muted-foreground mb-1",children:"List Name"}),(0,b.jsx)("p",{className:"text-sm font-medium",children:ab.sourceMetadata.apolloListName})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-xs text-muted-foreground mb-1",children:"Imported Via"}),(0,b.jsx)("p",{className:"text-sm font-medium",children:"Outbound Ingestion"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-xs text-muted-foreground mb-1",children:"Last Synced"}),(0,b.jsx)("p",{className:"text-sm font-medium",children:ab.ingestedAt||"Unknown"})]})]}),(0,b.jsx)("div",{className:"mt-3 pt-3 border-t border-border/30",children:(0,b.jsx)("p",{className:"text-xs text-muted-foreground",children:"This lead was sourced from Apollo and enriched by Jazon before outreach. All messaging is executed by Jazon (not Apollo sequences)."})})]})]}),(0,b.jsxs)(f.Card,{className:"border-primary/30 bg-primary/5 shadow-sm",children:[(0,b.jsx)(f.CardHeader,{children:(0,b.jsx)(f.CardTitle,{className:"text-base font-semibold",children:"Current AI Decision"})}),(0,b.jsxs)(f.CardContent,{className:"space-y-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-lg font-semibold text-foreground mb-2",children:ab.aiRecommendation}),(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsxs)(g.Badge,{variant:"default",className:"text-xs",children:[ad&&ad.overallScore>=80?"High":ad&&ad.overallScore>=60?"Medium":"Low"," Confidence"]}),ad&&(0,b.jsxs)("span",{className:"text-xs text-muted-foreground",children:[ad.overallScore,"% overall qualification score"]})]})]}),(0,b.jsxs)("div",{className:"pt-2 border-t border-border/50",children:[(0,b.jsx)("p",{className:"text-xs font-medium text-muted-foreground uppercase tracking-wide mb-1",children:"Expected Outcome"}),(0,b.jsxs)("p",{className:"text-sm text-foreground",children:["Qualification"===ab.stage&&"Voice escalation will accelerate qualification and increase meeting booking probability by 30%.","Meeting Scheduled"===ab.stage&&"AE handoff prepared with full context. High probability of pipeline opportunity based on qualification profile.","Engaged"===ab.stage&&"Continuing nurture sequence to build engagement before qualification attempt.","Disqualified"===ab.stage&&"Early disqualification prevents wasted AE time and focuses resources on higher-fit leads.","Research"===ab.stage&&"ICP validation in progress. Outreach will begin once fit is confirmed."]})]})]})]}),(0,b.jsxs)(f.Card,{children:[(0,b.jsx)(f.CardHeader,{children:(0,b.jsx)(f.CardTitle,{className:"text-sm",children:"Why Jazon Recommended This"})}),(0,b.jsx)(f.CardContent,{children:(0,b.jsxs)("ul",{className:"space-y-2 text-sm",children:[(0,b.jsxs)("li",{className:"flex items-start gap-2",children:[(0,b.jsx)("span",{className:"text-primary mt-0.5",children:"â€¢"}),(0,b.jsxs)("span",{children:[(0,b.jsx)("span",{className:"font-medium",children:"ICP Analysis:"})," Score of ",ab.icpScore," indicates ",ab.icpScore>=85?"strong alignment":ab.icpScore>=70?"moderate alignment":"weak alignment"," with ideal customer profile."]})]}),(0,b.jsxs)("li",{className:"flex items-start gap-2",children:[(0,b.jsx)("span",{className:"text-primary mt-0.5",children:"â€¢"}),(0,b.jsxs)("span",{children:[(0,b.jsx)("span",{className:"font-medium",children:"Engagement Signals:"})," ","Qualification"===ab.stage&&"High engagement across multiple channels indicates readiness for deeper qualification.","Meeting Scheduled"===ab.stage&&"Fully qualified with confirmed need, authority, and timeline.","Engaged"===ab.stage&&"Positive initial responses, continuing nurture sequence.","Disqualified"===ab.stage&&"No alignment with ICP criteria or budget constraints identified.","Research"===ab.stage&&"Validating ICP fit before initiating outreach."]})]}),ad&&ad.overallScore>=80&&(0,b.jsxs)("li",{className:"flex items-start gap-2",children:[(0,b.jsx)("span",{className:"text-primary mt-0.5",children:"â€¢"}),(0,b.jsxs)("span",{children:[(0,b.jsx)("span",{className:"font-medium",children:"Qualification Status:"})," ",ad.overallScore,"% confidence with ",[ad.need,ad.timeline,ad.authority,ad.budget].filter(a=>a.known).length," of 4 BANT criteria confirmed."]})]})]})})]}),(0,b.jsxs)(f.Card,{children:[(0,b.jsx)(f.CardHeader,{children:(0,b.jsx)(f.CardTitle,{className:"text-sm",children:"Lead Snapshot"})}),(0,b.jsxs)(f.CardContent,{className:"space-y-4",children:[(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-xs font-medium text-muted-foreground uppercase tracking-wide mb-1",children:"ICP Score"}),(0,b.jsxs)("div",{className:`text-2xl font-bold ${ah(ab.icpScore)}`,children:[ab.icpScore,"/100"]}),(0,b.jsx)("p",{className:"text-xs text-muted-foreground mt-1",children:ab.icpScore>=85?"Excellent fit":ab.icpScore>=70?"Good fit":"Poor fit"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-xs font-medium text-muted-foreground uppercase tracking-wide mb-1",children:"Current Stage"}),(0,b.jsx)(g.Badge,{variant:ak(ab.stage),className:"text-sm mb-1",children:ab.stage}),(0,b.jsxs)("p",{className:"text-xs text-muted-foreground mt-1",children:["Last contact: ",ab.lastContact]})]})]}),ab.triggers.length>0&&(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-xs font-medium text-muted-foreground uppercase tracking-wide mb-2",children:"Detected Triggers"}),(0,b.jsx)("div",{className:"flex flex-wrap gap-2",children:ab.triggers.map((a,c)=>(0,b.jsx)(g.Badge,{variant:"secondary",className:"text-xs",children:a},c))})]}),(0,b.jsxs)("div",{className:"pt-2 border-t border-border/50",children:[(0,b.jsx)("p",{className:"text-xs font-medium text-muted-foreground uppercase tracking-wide mb-2",children:"Lead Origin"}),(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-3 text-sm",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("span",{className:"text-muted-foreground",children:"Source:"})," ",(0,b.jsx)("span",{className:"font-medium",children:ab.source||"Not specified"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("span",{className:"text-muted-foreground",children:"Ingested:"})," ",(0,b.jsx)("span",{className:"font-medium",children:ab.ingestedAt||"Not recorded"})]}),ab.importedBy&&(0,b.jsxs)("div",{className:"col-span-2",children:[(0,b.jsx)("span",{className:"text-muted-foreground",children:"Imported by:"})," ",(0,b.jsx)("span",{className:"font-medium",children:ab.importedBy})]}),ab.originTrigger&&(0,b.jsx)("div",{className:"col-span-2 text-xs text-muted-foreground",children:ab.originTrigger})]})]})]})]}),(0,b.jsxs)(f.Card,{children:[(0,b.jsx)(f.CardHeader,{children:(0,b.jsx)(f.CardTitle,{className:"text-sm",children:"Details"})}),(0,b.jsx)(f.CardContent,{children:(0,b.jsxs)(o.Tabs,{defaultValue:"activity",className:"w-full",children:[(0,b.jsxs)(o.TabsList,{className:"w-full justify-start",children:[(0,b.jsx)(o.TabsTrigger,{value:"activity",children:"Activity"}),(0,b.jsx)(o.TabsTrigger,{value:"qualification",children:"Qualification"}),af.length>0&&(0,b.jsx)(o.TabsTrigger,{value:"voice",children:"Voice Summary"}),ae&&(0,b.jsx)(o.TabsTrigger,{value:"handoff",children:"AE Handoff"})]}),(0,b.jsx)(o.TabsContent,{value:"activity",className:"mt-4",children:(0,b.jsx)("div",{className:"space-y-4",children:ac.length>0?ac.map(a=>(0,b.jsxs)("div",{className:"flex gap-3 pb-4 border-b last:border-0 last:pb-0",children:[(0,b.jsxs)("div",{className:`p-2 rounded-full h-fit shrink-0 ${"email"===a.channel?"bg-primary/10 text-primary":"voice"===a.channel?"bg-chart-2/10 text-chart-2":"bg-chart-3/10 text-chart-3"}`,children:["email"===a.channel&&(0,b.jsx)(v.Mail,{className:"w-4 h-4"}),"voice"===a.channel&&(0,b.jsx)(w.Phone,{className:"w-4 h-4"}),"linkedin"===a.channel&&(0,b.jsx)(x.MessageSquare,{className:"w-4 h-4"})]}),(0,b.jsxs)("div",{className:"flex-1 space-y-1 min-w-0",children:[(0,b.jsxs)("div",{className:"flex items-start justify-between gap-2",children:[(0,b.jsxs)("div",{className:"min-w-0",children:[(0,b.jsxs)(g.Badge,{variant:"outline",className:"text-xs mb-1",children:[a.channel," â€¢ ",a.direction]}),a.subject&&(0,b.jsx)("p",{className:"font-medium text-sm truncate",children:a.subject})]}),(0,b.jsx)("span",{className:"text-xs text-muted-foreground shrink-0",children:a.timestamp})]}),a.summary?(0,b.jsxs)("div",{className:"bg-muted/50 rounded p-2 space-y-2",children:[(0,b.jsx)("p",{className:"text-sm",children:a.summary}),a.duration&&(0,b.jsxs)("p",{className:"text-xs text-muted-foreground",children:["Duration: ",a.duration," â€¢ Outcome: ",a.outcome]}),a.objections&&a.objections.length>0&&(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-xs font-medium mt-2 mb-1",children:"Objections raised:"}),(0,b.jsx)("ul",{className:"text-xs text-muted-foreground space-y-1",children:a.objections.map((a,c)=>(0,b.jsxs)("li",{children:["â€¢ ",a]},c))})]})]}):(0,b.jsx)("p",{className:"text-sm text-muted-foreground",children:a.content})]})]},a.id)):(0,b.jsx)("p",{className:"text-sm text-muted-foreground",children:"No conversation history yet"})})}),(0,b.jsx)(o.TabsContent,{value:"qualification",className:"mt-4",children:ad?(0,b.jsxs)("div",{className:"space-y-4",children:[Object.entries({Need:ad.need,Timeline:ad.timeline,Authority:ad.authority,Budget:ad.budget}).map(([a,c])=>(0,b.jsxs)("div",{className:"pb-3 border-b last:border-0 last:pb-0",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-1",children:[(0,b.jsx)("p",{className:"text-sm font-medium",children:a}),(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)(g.Badge,{variant:c.known?"default":"outline",className:"text-xs",children:c.known?"Confirmed":"Unknown"}),(0,b.jsxs)("span",{className:"text-xs text-muted-foreground",children:[c.confidence,"% confidence"]})]})]}),(0,b.jsx)("p",{className:"text-sm text-muted-foreground",children:c.value})]},a)),(0,b.jsxs)("div",{className:"pt-3 border-t",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsx)("p",{className:"text-sm font-medium",children:"Overall Qualification Score"}),(0,b.jsxs)(g.Badge,{variant:"default",className:"text-sm",children:[ad.overallScore,"%"]})]}),(0,b.jsxs)("p",{className:"text-xs text-muted-foreground mt-1",children:["Recommendation: ","book_meeting"===ad.recommendation?"Book meeting":"nurture"===ad.recommendation?"Continue nurture":"Disqualify"]})]})]}):(0,b.jsx)("p",{className:"text-sm text-muted-foreground",children:"Qualification in progress"})}),af.length>0&&(0,b.jsx)(o.TabsContent,{value:"voice",className:"mt-4",children:(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsxs)("div",{className:"bg-muted/30 rounded-lg p-3 border border-border/50",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,b.jsx)(w.Phone,{className:"w-4 h-4 text-chart-2"}),(0,b.jsx)("p",{className:"text-xs font-medium text-muted-foreground uppercase tracking-wide",children:"Voice Escalation (Conditional)"})]}),(0,b.jsx)("p",{className:"text-xs text-muted-foreground mb-3",children:"Voice was used as an escalation when engagement and ICP score crossed the configured threshold."})]}),af.map(a=>(0,b.jsxs)("div",{className:"space-y-3",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsx)(g.Badge,{variant:"outline",className:"text-xs",children:a.timestamp}),a.duration&&(0,b.jsxs)("span",{className:"text-xs text-muted-foreground",children:["Duration: ",a.duration]})]}),a.summary&&(0,b.jsxs)("div",{className:"bg-muted/50 rounded p-3 space-y-2",children:[(0,b.jsx)("p",{className:"text-sm font-medium mb-1",children:"Call Summary"}),(0,b.jsx)("p",{className:"text-sm text-foreground",children:a.summary}),a.outcome&&(0,b.jsxs)("div",{className:"flex items-center gap-2 pt-2 border-t border-border/50",children:[(0,b.jsx)(z.CheckCircle2,{className:"w-4 h-4 text-chart-2"}),(0,b.jsxs)("span",{className:"text-sm font-medium",children:["Outcome: ",a.outcome]})]}),a.objections&&a.objections.length>0&&(0,b.jsxs)("div",{className:"pt-2 border-t border-border/50",children:[(0,b.jsx)("p",{className:"text-xs font-medium text-muted-foreground mb-2",children:"Objections Raised:"}),(0,b.jsx)("ul",{className:"space-y-1",children:a.objections.map((a,c)=>(0,b.jsxs)("li",{className:"flex items-start gap-2 text-sm text-muted-foreground",children:[(0,b.jsx)(A.AlertCircle,{className:"w-4 h-4 mt-0.5 shrink-0"}),(0,b.jsx)("span",{children:a})]},c))})]})]})]},a.id))]})}),ae&&(0,b.jsx)(o.TabsContent,{value:"handoff",className:"mt-4",children:(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsxs)("div",{className:"bg-primary/5 rounded-lg p-4 border border-primary/20",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,b.jsx)(z.CheckCircle2,{className:"w-4 h-4 text-primary"}),(0,b.jsx)("p",{className:"text-sm font-semibold",children:"Meeting Scheduled"})]}),(0,b.jsxs)("p",{className:"text-sm text-muted-foreground",children:[ae.scheduledFor," â€¢ Status: ",ae.status]})]}),ae.handoffPack&&(0,b.jsxs)(b.Fragment,{children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-xs font-medium text-muted-foreground uppercase tracking-wide mb-2",children:"Research Summary"}),(0,b.jsx)("p",{className:"text-sm text-foreground",children:ae.handoffPack.researchSummary})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-xs font-medium text-muted-foreground uppercase tracking-wide mb-2",children:"Qualification Notes"}),(0,b.jsx)("ul",{className:"space-y-1",children:ae.handoffPack.qualificationNotes.map((a,c)=>(0,b.jsxs)("li",{className:"flex items-start gap-2 text-sm",children:[(0,b.jsx)("span",{className:"text-primary mt-0.5",children:"â€¢"}),(0,b.jsx)("span",{children:a})]},c))})]}),ae.handoffPack.objectionsRaised.length>0&&(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-xs font-medium text-muted-foreground uppercase tracking-wide mb-2",children:"Objections Raised"}),(0,b.jsx)("ul",{className:"space-y-1",children:ae.handoffPack.objectionsRaised.map((a,c)=>(0,b.jsxs)("li",{className:"flex items-start gap-2 text-sm text-muted-foreground",children:[(0,b.jsx)(A.AlertCircle,{className:"w-4 h-4 mt-0.5 shrink-0"}),(0,b.jsx)("span",{children:a})]},c))})]}),ae.handoffPack.suggestedTalkTrack.length>0&&(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-xs font-medium text-muted-foreground uppercase tracking-wide mb-2",children:"Suggested Talk Track"}),(0,b.jsx)("ul",{className:"space-y-2",children:ae.handoffPack.suggestedTalkTrack.map((a,c)=>(0,b.jsx)("li",{className:"text-sm text-foreground",children:a},c))})]}),ae.handoffPack.whyBooked&&(0,b.jsxs)("div",{className:"pt-3 border-t",children:[(0,b.jsx)("p",{className:"text-xs font-medium text-muted-foreground uppercase tracking-wide mb-2",children:"Why This Meeting Was Booked"}),(0,b.jsx)("p",{className:"text-sm text-foreground",children:ae.handoffPack.whyBooked})]})]})]})})]})})]})]})]})})})]})}}];

//# sourceMappingURL=src_app_leads_page_tsx_aa261e20._.js.map