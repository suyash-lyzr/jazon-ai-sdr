{"version":3,"sources":["turbopack:///[project]/src/app/outreach/page.tsx","turbopack:///[project]/node_modules/lucide-react/src/icons/linkedin.ts","turbopack:///[project]/node_modules/lucide-react/src/icons/pause.ts","turbopack:///[project]/node_modules/lucide-react/src/icons/activity.ts","turbopack:///[project]/node_modules/lucide-react/src/icons/send.ts"],"sourcesContent":["\"use client\";\n\nimport { useState, useMemo, useEffect } from \"react\";\nimport { JazonSidebar } from \"@/components/jazon-sidebar\";\nimport { SidebarInset, SidebarProvider } from \"@/components/ui/sidebar\";\nimport {\n  Card,\n  CardContent,\n  CardDescription,\n  CardHeader,\n  CardTitle,\n} from \"@/components/ui/card\";\nimport { Badge } from \"@/components/ui/badge\";\nimport { Button } from \"@/components/ui/button\";\nimport { Progress } from \"@/components/ui/progress\";\nimport {\n  Select,\n  SelectContent,\n  SelectItem,\n  SelectTrigger,\n  SelectValue,\n} from \"@/components/ui/select\";\nimport {\n  Dialog,\n  DialogContent,\n  DialogDescription,\n  DialogFooter,\n  DialogHeader,\n  DialogTitle,\n} from \"@/components/ui/dialog\";\nimport {\n  Sheet,\n  SheetContent,\n  SheetDescription,\n  SheetHeader,\n  SheetTitle,\n  SheetFooter,\n} from \"@/components/ui/sheet\";\nimport { Tabs, TabsContent, TabsList, TabsTrigger } from \"@/components/ui/tabs\";\nimport { Textarea } from \"@/components/ui/textarea\";\nimport { Input } from \"@/components/ui/input\";\nimport { Label } from \"@/components/ui/label\";\nimport { Alert, AlertDescription, AlertTitle } from \"@/components/ui/alert\";\nimport { mockOutreachStrategies, mockConversations } from \"@/lib/mock-data\";\nimport { useJazonApp } from \"@/context/jazon-app-context\";\nimport {\n  Mail,\n  Phone,\n  MessageSquare,\n  Shield,\n  CheckCircle2,\n  Clock,\n  Pause,\n  PhoneCall,\n  StopCircle,\n  UserCheck,\n  AlertCircle,\n  TrendingUp,\n  Target,\n  Activity,\n  Zap,\n  Database,\n  Search,\n  Send,\n  Eye,\n  FileText,\n  ChevronDown,\n  ChevronUp,\n  Edit3,\n  Loader2,\n  Linkedin,\n} from \"lucide-react\";\n\nexport default function OutreachPage() {\n  const { leads: mockLeads } = useJazonApp();\n  const [selectedLeadId, setSelectedLeadId] = useState<string | null>(null);\n  const [statusNote, setStatusNote] = useState<string | null>(null);\n  const [isUpdating, setIsUpdating] = useState(false);\n  const [controlDialogOpen, setControlDialogOpen] = useState<string | null>(\n    null\n  );\n  const [overrideReason, setOverrideReason] = useState(\"\");\n  const [viewMode, setViewMode] = useState<\"executive\" | \"full\">(\"executive\");\n  const [expandedMessageContent, setExpandedMessageContent] = useState<\n    Set<string>\n  >(new Set());\n\n  // New state for DB-backed data\n  const [dbLeads, setDbLeads] = useState<any[]>([]);\n  const [outreachData, setOutreachData] = useState<any>(null);\n  const [isLoadingOutreach, setIsLoadingOutreach] = useState(false);\n  const [isGenerating, setIsGenerating] = useState(false);\n  const [editSidebar, setEditSidebar] = useState<{\n    open: boolean;\n    section: \"strategy\" | \"copy\" | \"guardrails\" | null;\n  }>({\n    open: false,\n    section: null,\n  });\n  const [editFormData, setEditFormData] = useState<any>({});\n  const [isSaving, setIsSaving] = useState(false);\n  const [copyDialogOpen, setCopyDialogOpen] = useState(false);\n  const [selectedStepCopy, setSelectedStepCopy] = useState<any>(null);\n  const [editingCopy, setEditingCopy] = useState(false);\n  const [editedCopyData, setEditedCopyData] = useState<any>(null);\n\n  // Helper function to format dates consistently (avoid hydration mismatch)\n  const formatDate = (date: Date | string | null | undefined): string => {\n    if (!date) return \"\";\n    const d = typeof date === \"string\" ? new Date(date) : date;\n    if (isNaN(d.getTime())) return \"\";\n    // Use ISO format or a consistent format that works on both server and client\n    return d.toISOString().split(\"T\")[0]; // Returns YYYY-MM-DD format\n  };\n\n  // Helper function to format relative time (for display)\n  // Returns a consistent format to avoid hydration mismatch\n  const formatRelativeTime = (\n    date: Date | string | null | undefined\n  ): string => {\n    if (!date) return \"\";\n    const d = typeof date === \"string\" ? new Date(date) : date;\n    if (isNaN(d.getTime())) return \"\";\n\n    // Use a consistent format that works the same on server and client\n    // Format: \"YYYY-MM-DD HH:MM\" or just the date if it's old\n    const now = new Date();\n    const diffMs = now.getTime() - d.getTime();\n    const diffDays = Math.floor(diffMs / 86400000);\n\n    // If more than 7 days, just show the date\n    if (diffDays >= 7) {\n      return formatDate(d);\n    }\n\n    // For recent dates, show a simple format that's consistent\n    // Format as \"YYYY-MM-DD\" to avoid locale/timezone issues\n    return formatDate(d);\n  };\n\n  // Fetch leads from database on mount\n  useEffect(() => {\n    const fetchLeads = async () => {\n      try {\n        const response = await fetch(\"/api/leads\");\n        const data = await response.json();\n\n        if (data.success && data.leads) {\n          const transformedLeads = data.leads.map((dbLead: any) => ({\n            id: dbLead._id,\n            name: dbLead.name,\n            company: dbLead.company?.name || \"Unknown\",\n            icpScore: dbLead.icp_score?.icp_score || 0,\n            stage:\n              dbLead.status === \"icp_scored\" ? \"Qualification\" : \"Research\",\n            _dbLead: dbLead,\n          }));\n          setDbLeads(transformedLeads);\n        }\n      } catch (error) {\n        console.error(\"Error fetching leads:\", error);\n      }\n    };\n\n    fetchLeads();\n  }, []);\n\n  // Combine mock leads and database leads\n  const leads = useMemo(() => {\n    const mockLeadsTransformed = mockLeads.map((l) => ({\n      ...l,\n      _dbLead: null,\n    }));\n    return [...mockLeadsTransformed, ...dbLeads];\n  }, [mockLeads, dbLeads]);\n\n  // Default to first lead with active outreach\n  const defaultLead = useMemo(() => {\n    if (leads.length === 0) return null;\n    return (\n      leads.find((l) => l.stage === \"Qualification\" || l.stage === \"Engaged\") ||\n      leads[0]\n    );\n  }, [leads]);\n\n  const selectedLead = selectedLeadId\n    ? leads.find((l) => l.id === selectedLeadId) || defaultLead\n    : defaultLead;\n\n  // Fetch outreach data when selected lead changes\n  useEffect(() => {\n    const fetchOutreachData = async () => {\n      if (!selectedLead || !selectedLead._dbLead) {\n        setOutreachData(null);\n        return;\n      }\n\n      setIsLoadingOutreach(true);\n      try {\n        const response = await fetch(`/api/leads/${selectedLead.id}/outreach`);\n        const data = await response.json();\n\n        if (data.success) {\n          setOutreachData(data.data);\n        }\n      } catch (error) {\n        console.error(\"Error fetching outreach data:\", error);\n      } finally {\n        setIsLoadingOutreach(false);\n      }\n    };\n\n    fetchOutreachData();\n  }, [selectedLead?.id]);\n\n  // Use real data if available, otherwise fall back to mock\n  const strategy = outreachData?.strategy ||\n    mockOutreachStrategies?.[0] || {\n      channelStrategy: [],\n      guardrails: {\n        maxTouches: 8,\n        voiceEscalationAllowed: true,\n        voiceEscalationTrigger: \"\",\n        stopConditions: [],\n      },\n    };\n  const conversations = selectedLead\n    ? mockConversations[selectedLead.id] || []\n    : [];\n\n  // Generate outreach strategy + copy\n  const handleGenerateOutreach = async () => {\n    if (!selectedLead || !selectedLead._dbLead) {\n      alert(\"Please select a database lead to generate outreach\");\n      return;\n    }\n\n    setIsGenerating(true);\n    try {\n      const response = await fetch(\n        `/api/leads/${selectedLead.id}/outreach/generate`,\n        {\n          method: \"POST\",\n          headers: { \"Content-Type\": \"application/json\" },\n        }\n      );\n\n      const data = await response.json();\n\n      if (data.success) {\n        // Refresh outreach data\n        const refreshResponse = await fetch(\n          `/api/leads/${selectedLead.id}/outreach`\n        );\n        const refreshData = await refreshResponse.json();\n        if (refreshData.success) {\n          setOutreachData(refreshData.data);\n        }\n        setStatusNote(\"Outreach strategy and copy generated successfully\");\n      } else {\n        alert(`Error: ${data.error || \"Failed to generate outreach\"}`);\n      }\n    } catch (error) {\n      console.error(\"Error generating outreach:\", error);\n      alert(\"Failed to generate outreach\");\n    } finally {\n      setIsGenerating(false);\n    }\n  };\n\n  // Handle control actions\n  const handleControlAction = async (action: string) => {\n    if (!selectedLead || !selectedLead._dbLead) return;\n\n    setIsUpdating(true);\n    setStatusNote(`Logging ${action} for audit purposes…`);\n\n    try {\n      const response = await fetch(\n        `/api/leads/${selectedLead.id}/outreach/control`,\n        {\n          method: \"POST\",\n          headers: { \"Content-Type\": \"application/json\" },\n          body: JSON.stringify({\n            action,\n            reason: overrideReason,\n          }),\n        }\n      );\n\n      const data = await response.json();\n\n      if (data.success) {\n        // Refresh outreach data\n        const refreshResponse = await fetch(\n          `/api/leads/${selectedLead.id}/outreach`\n        );\n        const refreshData = await refreshResponse.json();\n        if (refreshData.success) {\n          setOutreachData(refreshData.data);\n        }\n\n        setStatusNote(data.message);\n        setControlDialogOpen(null);\n        setOverrideReason(\"\");\n      } else {\n        alert(`Error: ${data.error || \"Failed to execute control action\"}`);\n      }\n    } catch (error) {\n      console.error(\"Error executing control action:\", error);\n      alert(\"Failed to execute control action\");\n    } finally {\n      setIsUpdating(false);\n    }\n  };\n\n  const simulateUpdate = (action: string, nextState: string) => {\n    setIsUpdating(true);\n    setStatusNote(`Logging ${action} for audit purposes…`);\n    setTimeout(() => {\n      setStatusNote(nextState);\n      setIsUpdating(false);\n      setControlDialogOpen(null);\n      setOverrideReason(\"\");\n    }, 800);\n  };\n\n  const toggleMessageContent = (messageId: string) => {\n    const newExpanded = new Set(expandedMessageContent);\n    if (newExpanded.has(messageId)) {\n      newExpanded.delete(messageId);\n    } else {\n      newExpanded.add(messageId);\n    }\n    setExpandedMessageContent(newExpanded);\n  };\n\n  // Determine outreach status (use real data if available)\n  const getOutreachStatus = () => {\n    if (!selectedLead) return \"no_lead\";\n    if (outreachData?.campaign) {\n      return outreachData.campaign.status === \"not_started\"\n        ? \"research\"\n        : outreachData.campaign.status;\n    }\n    // Fallback to mock logic\n    if (selectedLead.stage === \"Disqualified\") return \"stopped\";\n    if (selectedLead.stage === \"Meeting Scheduled\") return \"completed\";\n    if (\n      selectedLead.stage === \"Qualification\" ||\n      selectedLead.stage === \"Engaged\"\n    )\n      return \"active\";\n    return \"research\";\n  };\n\n  const outreachStatus = getOutreachStatus();\n\n  const getCurrentPhase = () => {\n    if (!selectedLead) return \"-\";\n    if (outreachData?.campaign) {\n      return outreachData.campaign.current_phase;\n    }\n    // Fallback to mock logic\n    if (selectedLead.stage === \"Research\") return \"Research\";\n    if (selectedLead.stage === \"Engaged\") return \"Engagement\";\n    if (selectedLead.stage === \"Qualification\") return \"Qualification\";\n    if (selectedLead.stage === \"Meeting Scheduled\") return \"Handoff\";\n    return \"Research\";\n  };\n\n  const getFinalDecision = () => {\n    if (!selectedLead) return \"-\";\n    if (outreachData?.campaign?.final_decision) {\n      return `${outreachData.campaign.final_decision.status}${\n        outreachData.campaign.final_decision.reason\n          ? ` → ${outreachData.campaign.final_decision.reason}`\n          : \"\"\n      }`;\n    }\n    // Fallback to mock logic\n    if (selectedLead.stage === \"Meeting Scheduled\")\n      return \"Qualified → AE handoff\";\n    if (selectedLead.stage === \"Disqualified\")\n      return \"Disqualified → ICP mismatch\";\n    if (selectedLead.stage === \"Qualification\") return \"In progress\";\n    if (selectedLead.stage === \"Engaged\") return \"Nurturing → Qualification\";\n    return \"Research in progress\";\n  };\n\n  // Generate full audit trail - use real events if available, otherwise generate mock\n  const fullAuditTrail = useMemo(() => {\n    if (!selectedLead) return [];\n\n    // If we have real events from the database, use those\n    if (outreachData?.events && outreachData.events.length > 0) {\n      return outreachData.events;\n    }\n\n    // Otherwise generate mock audit trail\n    type AuditEvent = {\n      id: string;\n      eventType:\n        | \"lifecycle\"\n        | \"research\"\n        | \"outreach\"\n        | \"engagement\"\n        | \"decision\"\n        | \"guardrail\"\n        | \"outcome\";\n      timestamp: string;\n      sortOrder: number; // Explicit sort order for strict chronological ordering\n      actor: \"AI\" | \"System\" | \"Human\";\n      title: string;\n      description: string;\n      metadata?: Record<string, any>;\n      badge?: string;\n      icon?: any;\n    };\n\n    const events: AuditEvent[] = [];\n    let sortCounter = 1;\n\n    // A. Lead Lifecycle Events (ALWAYS FIRST)\n    events.push({\n      id: `${selectedLead.id}-ingestion`,\n      eventType: \"lifecycle\",\n      timestamp: selectedLead.ingestedAt || \"7 days ago\",\n      sortOrder: sortCounter++,\n      actor: \"System\",\n      title: `Lead ingested from ${selectedLead.source || \"Unknown source\"}`,\n      description:\n        selectedLead.originTrigger ||\n        `Lead entered Jazon via ${selectedLead.source}. Initial data sync completed.`,\n      metadata: {\n        source: selectedLead.source,\n        importedBy: selectedLead.importedBy,\n        workspace: \"Production Workspace\",\n      },\n      badge: \"Lead Ingestion\",\n    });\n\n    // B. AI Research & ICP Decisions\n    events.push({\n      id: `${selectedLead.id}-research`,\n      eventType: \"research\",\n      timestamp: \"6 days ago\",\n      sortOrder: sortCounter++,\n      actor: \"AI\",\n      title: \"ICP analysis completed\",\n      description: `Lead evaluated with ICP score ${selectedLead.icpScore}. ${\n        selectedLead.icpScore >= 85\n          ? \"High fit\"\n          : selectedLead.icpScore >= 70\n          ? \"Medium fit\"\n          : \"Low fit\"\n      } determined based on company size, industry, tech stack, and persona.`,\n      metadata: {\n        icpScore: selectedLead.icpScore,\n        fitCategory:\n          selectedLead.icpScore >= 85\n            ? \"High\"\n            : selectedLead.icpScore >= 70\n            ? \"Medium\"\n            : \"Low\",\n        dataSources: [\"LinkedIn\", \"CRM\", \"Perplexity\"],\n        confidence: selectedLead.icpScore >= 70 ? \"High\" : \"Medium\",\n      },\n      badge: \"AI Research\",\n    });\n\n    if (selectedLead.triggers && selectedLead.triggers.length > 0) {\n      events.push({\n        id: `${selectedLead.id}-triggers`,\n        eventType: \"research\",\n        timestamp: \"6 days ago\",\n        sortOrder: sortCounter++,\n        actor: \"AI\",\n        title: `${selectedLead.triggers.length} buying signal(s) detected`,\n        description: selectedLead.triggers.join(\". \") + \".\",\n        metadata: {\n          triggerCount: selectedLead.triggers.length,\n          signals: selectedLead.triggers,\n        },\n        badge: \"Trigger Detection\",\n      });\n    }\n\n    // C. Outreach Actions (if lead has active or past outreach)\n    if (selectedLead.stage !== \"Research\") {\n      // Only start outreach if not disqualified at research stage\n      if (\n        selectedLead.stage !== \"Disqualified\" ||\n        selectedLead.icpScore >= 60\n      ) {\n        events.push({\n          id: `${selectedLead.id}-outreach-start`,\n          eventType: \"outreach\",\n          timestamp: \"5 days ago\",\n          sortOrder: sortCounter++,\n          actor: \"AI\",\n          title: \"Outreach strategy initiated\",\n          description: `Multi-channel sequence started based on ICP score ${selectedLead.icpScore}. Initial channel: Email. Strategy includes up to 8 touches across Email, LinkedIn, and conditional Voice.`,\n          metadata: {\n            channelStrategy: [\"Email\", \"LinkedIn\", \"Voice\"],\n            icpScore: selectedLead.icpScore,\n            complianceChecks: [\"GDPR\", \"CAN-SPAM\", \"Business hours\"],\n          },\n          badge: \"Outreach Start\",\n        });\n\n        // Add message events (sorted by their actual timestamps)\n        conversations.forEach((msg) => {\n          events.push({\n            id: msg.id,\n            eventType: msg.direction === \"outbound\" ? \"outreach\" : \"engagement\",\n            timestamp: msg.timestamp,\n            sortOrder: sortCounter++,\n            actor: msg.direction === \"outbound\" ? \"AI\" : \"Human\",\n            title: msg.subject || `${msg.channel} ${msg.direction}`,\n            description:\n              msg.summary ||\n              msg.content ||\n              `${msg.channel} message ${msg.direction}`,\n            metadata: {\n              channel: msg.channel,\n              direction: msg.direction,\n              outcome: msg.outcome,\n              duration: msg.duration,\n              aiGenerated: msg.direction === \"outbound\",\n            },\n            badge:\n              msg.direction === \"outbound\"\n                ? \"Outreach Action\"\n                : \"Engagement Event\",\n          });\n        });\n      }\n    }\n\n    // D. Guardrails & Compliance (in chronological position)\n    if (\n      selectedLead.stage === \"Engaged\" ||\n      selectedLead.stage === \"Qualification\"\n    ) {\n      events.push({\n        id: `${selectedLead.id}-compliance-check`,\n        eventType: \"guardrail\",\n        timestamp: \"3 days ago\",\n        sortOrder: sortCounter++,\n        actor: \"System\",\n        title: \"Weekend outreach blocked\",\n        description:\n          \"Scheduled email deferred to Monday to respect business hours compliance rule.\",\n        metadata: {\n          guardrailName: \"No weekend outreach\",\n          triggerCondition: \"Saturday send scheduled\",\n          actionTaken: \"Deferred to Monday 9:00 AM\",\n          systemConfirmation: \"Compliance rule enforced\",\n        },\n        badge: \"Compliance\",\n      });\n    }\n\n    // E. AI Decisions & Escalations (in chronological position)\n    if (\n      selectedLead.stage === \"Qualification\" &&\n      selectedLead.channel &&\n      selectedLead.channel.includes(\"Voice\")\n    ) {\n      events.push({\n        id: `${selectedLead.id}-voice-escalation`,\n        eventType: \"decision\",\n        timestamp: \"2 hours ago\",\n        sortOrder: sortCounter++,\n        actor: \"AI\",\n        title: \"Voice escalation approved\",\n        description: `High engagement on previous channels + ICP score ${selectedLead.icpScore} warranted personal touch. Voice escalation guardrails passed.`,\n        metadata: {\n          icpScore: selectedLead.icpScore,\n          rulesTriggered: [\"ICP ≥ 80\", \"Engagement on 2+ channels\"],\n          rulesPassed: [\"Max touches not exceeded\", \"Voice escalation allowed\"],\n          humanApprovalRequired: false,\n          confidence: \"High\",\n        },\n        badge: \"AI Decision\",\n      });\n    }\n\n    // F. Final Outcome (ALWAYS LAST)\n    if (selectedLead.stage === \"Meeting Scheduled\") {\n      events.push({\n        id: `${selectedLead.id}-meeting`,\n        eventType: \"outcome\",\n        timestamp: \"1 hour ago\",\n        sortOrder: sortCounter++,\n        actor: \"AI\",\n        title: \"Meeting booked\",\n        description:\n          \"Lead fully qualified via BANT analysis. Meeting scheduled and calendar invite sent.\",\n        metadata: {\n          qualificationScore: 88,\n          bantConfirmed: [\"Need\", \"Timeline\", \"Authority\", \"Budget\"],\n        },\n        badge: \"Outcome\",\n      });\n\n      events.push({\n        id: `${selectedLead.id}-handoff`,\n        eventType: \"outcome\",\n        timestamp: \"1 hour ago\",\n        sortOrder: sortCounter++,\n        actor: \"System\",\n        title: \"AE handoff completed\",\n        description:\n          \"Handoff pack prepared with research summary, qualification notes, objections, and talk track. CRM updated.\",\n        metadata: {\n          crmUpdated: true,\n          handoffPackGenerated: true,\n        },\n        badge: \"Outcome\",\n      });\n    }\n\n    if (selectedLead.stage === \"Disqualified\") {\n      events.push({\n        id: `${selectedLead.id}-disqualify`,\n        eventType: \"decision\",\n        timestamp: \"1 week ago\",\n        sortOrder: sortCounter++,\n        actor: \"AI\",\n        title: \"Lead disqualified\",\n        description: `ICP score ${selectedLead.icpScore} below threshold (60). Wrong market segment. Outreach stopped to save AE time.`,\n        metadata: {\n          icpScore: selectedLead.icpScore,\n          reason: \"ICP mismatch\",\n          confidence: \"High\",\n          rulesTriggered: [\"ICP < 60\"],\n        },\n        badge: \"AI Decision\",\n      });\n\n      events.push({\n        id: `${selectedLead.id}-stop`,\n        eventType: \"outcome\",\n        timestamp: \"1 week ago\",\n        sortOrder: sortCounter++,\n        actor: \"System\",\n        title: \"Outreach stopped\",\n        description:\n          \"All scheduled actions cancelled. Lead moved to disqualified status. CRM updated.\",\n        metadata: {\n          crmUpdated: true,\n          outreachStopped: true,\n        },\n        badge: \"Outcome\",\n      });\n    }\n\n    // STRICT CHRONOLOGICAL SORT: Oldest → Newest (using sortOrder as the single source of truth)\n    return events.sort((a, b) => a.sortOrder - b.sortOrder);\n  }, [selectedLead, conversations, outreachData]);\n\n  // Executive timeline (filtered for key events)\n  const executiveTimeline = useMemo(() => {\n    if (!fullAuditTrail || !Array.isArray(fullAuditTrail)) return [];\n    return fullAuditTrail.filter(\n      (event) =>\n        event.eventType === \"outcome\" ||\n        event.eventType === \"decision\" ||\n        (event.eventType === \"outreach\" &&\n          event.metadata?.channel === \"voice\") ||\n        (event.eventType === \"engagement\" &&\n          event.metadata?.direction === \"inbound\")\n    );\n  }, [fullAuditTrail]);\n\n  return (\n    <SidebarProvider\n      style={\n        {\n          \"--sidebar-width\": \"calc(var(--spacing) * 60)\",\n          \"--header-height\": \"calc(var(--spacing) * 12)\",\n        } as React.CSSProperties\n      }\n    >\n      <JazonSidebar variant=\"inset\" />\n      <SidebarInset>\n        <div className=\"flex flex-1 flex-col\">\n          <div className=\"flex flex-1 flex-col gap-6 p-4 md:gap-8 md:p-6\">\n            {/* Page Header with Lead Selector */}\n            <div className=\"flex items-start justify-between gap-4\">\n              <div className=\"flex flex-col gap-2\">\n                <h1 className=\"text-3xl font-semibold text-foreground\">\n                  Outreach Campaign\n                </h1>\n                <p className=\"text-sm text-muted-foreground\">\n                  Strategic, multi-channel engagement - not email blasting\n                </p>\n              </div>\n              <div className=\"flex items-center gap-3\">\n                {selectedLead && selectedLead._dbLead && (\n                  <Button\n                    onClick={handleGenerateOutreach}\n                    disabled={isGenerating}\n                    className=\"gap-2\"\n                    size=\"sm\"\n                  >\n                    {isGenerating ? (\n                      <>\n                        <Loader2 className=\"h-4 w-4 animate-spin\" />\n                        Generating...\n                      </>\n                    ) : (\n                      <>\n                        <Zap className=\"h-4 w-4\" />\n                        {outreachData?.strategy\n                          ? \"Regenerate\"\n                          : \"Generate\"}{\" \"}\n                        Outreach\n                      </>\n                    )}\n                  </Button>\n                )}\n                <div className=\"flex items-center gap-2 min-w-0 max-w-md\">\n                  <label className=\"text-xs text-muted-foreground shrink-0\">\n                    Lead:\n                  </label>\n                  <Select\n                    value={selectedLeadId || defaultLead?.id || \"\"}\n                    onValueChange={setSelectedLeadId}\n                  >\n                    <SelectTrigger className=\"w-full\">\n                      <SelectValue placeholder=\"Choose a lead\" />\n                    </SelectTrigger>\n                    <SelectContent>\n                      {leads.map((lead) => (\n                        <SelectItem key={lead.id} value={lead.id}>\n                          <div className=\"flex items-center gap-2\">\n                            <span className=\"font-medium\">{lead.name}</span>\n                            <span className=\"text-muted-foreground\">\n                              • {lead.company}\n                            </span>\n                            <Badge\n                              variant=\"outline\"\n                              className=\"ml-auto text-xs\"\n                            >\n                              ICP {lead.icpScore}\n                            </Badge>\n                            <Badge variant=\"secondary\" className=\"text-xs\">\n                              {lead.stage}\n                            </Badge>\n                          </div>\n                        </SelectItem>\n                      ))}\n                    </SelectContent>\n                  </Select>\n                </div>\n              </div>\n            </div>\n\n            {selectedLead && (\n              <>\n                {/* Section 1: Outreach Summary (Always Visible) */}\n                <div className=\"bg-muted/30 rounded-xl p-5 border border-border/50\">\n                  <div className=\"grid grid-cols-5 gap-4\">\n                    <div>\n                      <p className=\"text-xs text-muted-foreground mb-1\">\n                        Outreach Status\n                      </p>\n                      <div className=\"flex items-center gap-2\">\n                        {outreachStatus === \"active\" && (\n                          <>\n                            <div className=\"w-2 h-2 rounded-full bg-primary animate-pulse\" />\n                            <Badge variant=\"default\">Active</Badge>\n                          </>\n                        )}\n                        {outreachStatus === \"completed\" && (\n                          <>\n                            <CheckCircle2 className=\"w-4 h-4 text-chart-2\" />\n                            <Badge className=\"bg-chart-2 hover:bg-chart-2\">\n                              Completed\n                            </Badge>\n                          </>\n                        )}\n                        {outreachStatus === \"stopped\" && (\n                          <>\n                            <StopCircle className=\"w-4 h-4 text-destructive\" />\n                            <Badge\n                              variant=\"outline\"\n                              className=\"text-destructive border-destructive\"\n                            >\n                              Stopped\n                            </Badge>\n                          </>\n                        )}\n                        {outreachStatus === \"research\" && (\n                          <>\n                            <Clock className=\"w-4 h-4 text-muted-foreground\" />\n                            <Badge variant=\"outline\">Research</Badge>\n                          </>\n                        )}\n                      </div>\n                    </div>\n                    <div>\n                      <p className=\"text-xs text-muted-foreground mb-1\">\n                        Current Phase\n                      </p>\n                      <p className=\"text-sm font-medium\">{getCurrentPhase()}</p>\n                    </div>\n                    <div>\n                      <p className=\"text-xs text-muted-foreground mb-1\">\n                        Last Action\n                      </p>\n                      <p className=\"text-sm font-medium\">\n                        {outreachData?.events && outreachData.events.length > 0\n                          ? `${\n                              outreachData.events[\n                                outreachData.events.length - 1\n                              ].title\n                            } - ${formatRelativeTime(\n                              outreachData.events[\n                                outreachData.events.length - 1\n                              ].timestamp\n                            )}`\n                          : outreachStatus === \"active\"\n                          ? \"Voice call - 2 hours ago\"\n                          : outreachStatus === \"completed\"\n                          ? \"AE handoff - 1 hour ago\"\n                          : selectedLead.lastContact}\n                      </p>\n                    </div>\n                    <div>\n                      <p className=\"text-xs text-muted-foreground mb-1\">\n                        Next Planned Action\n                      </p>\n                      <p className=\"text-sm font-medium\">\n                        {outreachData?.campaign?.next_planned_action?.label\n                          ? `${\n                              outreachData.campaign.next_planned_action.label\n                            }${\n                              outreachData.campaign.next_planned_action\n                                .scheduled_at\n                                ? ` - ${formatRelativeTime(\n                                    outreachData.campaign.next_planned_action\n                                      .scheduled_at\n                                  )}`\n                                : \"\"\n                            }`\n                          : outreachStatus === \"active\" &&\n                            selectedLead.stage === \"Qualification\"\n                          ? \"Follow-up email - tomorrow\"\n                          : outreachStatus === \"completed\"\n                          ? \"AE handoff complete\"\n                          : outreachStatus === \"stopped\"\n                          ? \"None - outreach stopped\"\n                          : \"Generate outreach strategy\"}\n                      </p>\n                    </div>\n                    <div>\n                      <p className=\"text-xs text-muted-foreground mb-1\">\n                        Final AI Decision\n                      </p>\n                      <p className=\"text-sm font-medium\">\n                        {getFinalDecision()}\n                      </p>\n                    </div>\n                  </div>\n                </div>\n\n                {/* Completion Summary (if completed) */}\n                {outreachStatus === \"completed\" && (\n                  <Card className=\"border-chart-2/30 bg-chart-2/10\">\n                    <CardContent className=\"py-6\">\n                      <div className=\"flex items-start gap-4\">\n                        <div className=\"p-3 rounded-lg bg-chart-2/20\">\n                          <CheckCircle2 className=\"w-6 h-6 text-chart-2\" />\n                        </div>\n                        <div className=\"flex-1\">\n                          <h3 className=\"font-semibold text-lg mb-2\">\n                            Outreach Successfully Completed\n                          </h3>\n                          <p className=\"text-sm text-muted-foreground mb-4\">\n                            Meeting scheduled and AE handoff completed. Outreach\n                            strategy achieved its goal.\n                          </p>\n                          <div className=\"grid grid-cols-2 gap-4\">\n                            <div className=\"bg-background/50 rounded-lg p-3 border border-border/30\">\n                              <p className=\"text-xs font-medium text-muted-foreground uppercase tracking-wide mb-2\">\n                                Why it worked\n                              </p>\n                              <ul className=\"space-y-1 text-sm\">\n                                <li className=\"flex items-start gap-2\">\n                                  <span className=\"text-chart-2\">•</span>\n                                  <span>\n                                    High ICP score ({selectedLead.icpScore})\n                                  </span>\n                                </li>\n                                <li className=\"flex items-start gap-2\">\n                                  <span className=\"text-chart-2\">•</span>\n                                  <span>\n                                    Strong engagement across multiple channels\n                                  </span>\n                                </li>\n                                <li className=\"flex items-start gap-2\">\n                                  <span className=\"text-chart-2\">•</span>\n                                  <span>Active buying signals detected</span>\n                                </li>\n                              </ul>\n                            </div>\n                            <div className=\"bg-background/50 rounded-lg p-3 border border-border/30\">\n                              <p className=\"text-xs font-medium text-muted-foreground uppercase tracking-wide mb-2\">\n                                Outcome\n                              </p>\n                              <ul className=\"space-y-1 text-sm\">\n                                <li className=\"flex items-start gap-2\">\n                                  <CheckCircle2 className=\"w-4 h-4 text-chart-2 mt-0.5\" />\n                                  <span>Meeting booked</span>\n                                </li>\n                                <li className=\"flex items-start gap-2\">\n                                  <CheckCircle2 className=\"w-4 h-4 text-chart-2 mt-0.5\" />\n                                  <span>AE handoff pack prepared</span>\n                                </li>\n                                <li className=\"flex items-start gap-2\">\n                                  <CheckCircle2 className=\"w-4 h-4 text-chart-2 mt-0.5\" />\n                                  <span>CRM updated (demo)</span>\n                                </li>\n                              </ul>\n                            </div>\n                          </div>\n                        </div>\n                      </div>\n                    </CardContent>\n                  </Card>\n                )}\n\n                {/* Disqualification Summary (if stopped) */}\n                {outreachStatus === \"stopped\" && (\n                  <Card className=\"border-destructive/30 bg-destructive/5\">\n                    <CardContent className=\"py-6\">\n                      <div className=\"flex items-start gap-4\">\n                        <div className=\"p-3 rounded-lg bg-destructive/10\">\n                          <StopCircle className=\"w-6 h-6 text-destructive\" />\n                        </div>\n                        <div className=\"flex-1\">\n                          <h3 className=\"font-semibold text-lg mb-2\">\n                            Outreach Disabled\n                          </h3>\n                          <p className=\"text-sm text-muted-foreground mb-4\">\n                            This lead was disqualified and outreach has been\n                            automatically stopped.\n                          </p>\n                          <div className=\"grid grid-cols-2 gap-4\">\n                            <div className=\"bg-background/50 rounded-lg p-3 border border-border/30\">\n                              <p className=\"text-xs font-medium text-muted-foreground uppercase tracking-wide mb-2\">\n                                Disqualification Reason\n                              </p>\n                              <p className=\"text-sm mb-2\">\n                                Low ICP score ({selectedLead.icpScore}) - wrong\n                                market segment\n                              </p>\n                              <Badge variant=\"outline\" className=\"text-xs\">\n                                High Confidence\n                              </Badge>\n                            </div>\n                            <div className=\"bg-background/50 rounded-lg p-3 border border-border/30\">\n                              <p className=\"text-xs font-medium text-muted-foreground uppercase tracking-wide mb-2\">\n                                Value Saved\n                              </p>\n                              <p className=\"text-sm mb-2\">\n                                Early disqualification prevented wasted AE time\n                              </p>\n                              <Badge variant=\"outline\" className=\"text-xs\">\n                                AI Decision (Automatic)\n                              </Badge>\n                            </div>\n                          </div>\n                        </div>\n                      </div>\n                    </CardContent>\n                  </Card>\n                )}\n\n                {/* Active Outreach Strategy (only for active leads OR when strategy exists) */}\n                {(outreachStatus === \"active\" || outreachData?.strategy) && (\n                  <Card>\n                    <CardHeader className=\"relative pr-20\">\n                      <div>\n                        <CardTitle>\n                          AI-Generated Outreach Strategy for This Lead\n                        </CardTitle>\n                        <CardDescription>\n                          {outreachData?.strategy?.plan_summary ||\n                            `Intelligent channel escalation based on ICP score (${selectedLead.icpScore}) and engagement signals from Research & ICP`}\n                        </CardDescription>\n                      </div>\n                      {outreachData?.strategy && (\n                        <Button\n                          variant=\"ghost\"\n                          size=\"sm\"\n                          onClick={() => {\n                            // Open edit sidebar for strategy\n                            const strategySteps =\n                              outreachData.strategy\n                                .recommended_channel_sequence || [];\n                            setEditFormData({\n                              plan_summary:\n                                outreachData.strategy.plan_summary || \"\",\n                              steps: strategySteps.map((step: any) => ({\n                                step: step.step,\n                                channel: step.channel,\n                                goal: step.goal || \"\",\n                                reasoning: step.reasoning || \"\",\n                                recommended_delay_hours:\n                                  step.recommended_delay_hours || 0,\n                                send_window: step.send_window || \"\",\n                                personalization_signals: (\n                                  step.personalization_signals || []\n                                ).join(\"\\n\"),\n                                gating_conditions: (\n                                  step.gating_conditions || []\n                                ).join(\"\\n\"),\n                              })),\n                            });\n                            setEditSidebar({ open: true, section: \"strategy\" });\n                          }}\n                          className=\"absolute top-4 right-4 h-6 px-2 gap-1.5 text-xs\"\n                        >\n                          <Edit3 className=\"h-3 w-3\" />\n                          Edit\n                        </Button>\n                      )}\n                    </CardHeader>\n                    <CardContent>\n                      <div className=\"space-y-6\">\n                        {/* Progress Indicator */}\n                        <div>\n                          <div className=\"flex items-center justify-between mb-3\">\n                            <span className=\"text-sm font-medium\">\n                              Strategy Progress\n                            </span>\n                            <span className=\"text-sm text-muted-foreground\">\n                              Step{\" \"}\n                              {outreachData?.campaign?.current_step_number ||\n                                strategy.currentStep ||\n                                0}{\" \"}\n                              of{\" \"}\n                              {outreachData?.strategy\n                                ?.recommended_channel_sequence?.length ||\n                                strategy.totalSteps ||\n                                0}\n                            </span>\n                          </div>\n                          <Progress\n                            value={\n                              ((outreachData?.campaign?.current_step_number ||\n                                strategy.currentStep) /\n                                (outreachData?.strategy\n                                  ?.recommended_channel_sequence?.length ||\n                                  strategy.totalSteps)) *\n                              100\n                            }\n                            className=\"h-2\"\n                          />\n                          <div className=\"flex items-center gap-2 mt-2\">\n                            {Array.from({\n                              length:\n                                outreachData?.strategy\n                                  ?.recommended_channel_sequence?.length ||\n                                strategy.totalSteps,\n                            }).map((_, idx) => (\n                              <div\n                                key={idx}\n                                className={`flex-1 h-1 rounded-full ${\n                                  idx <\n                                  (outreachData?.campaign\n                                    ?.current_step_number ||\n                                    strategy.currentStep)\n                                    ? \"bg-chart-2\"\n                                    : idx ===\n                                      (outreachData?.campaign\n                                        ?.current_step_number ||\n                                        strategy.currentStep)\n                                    ? \"bg-primary\"\n                                    : \"bg-muted\"\n                                }`}\n                              />\n                            ))}\n                          </div>\n                        </div>\n\n                        {/* Channel Strategy */}\n                        <div className=\"space-y-4\">\n                          {(\n                            outreachData?.strategy\n                              ?.recommended_channel_sequence ||\n                            strategy?.channelStrategy ||\n                            []\n                          ).map((channel: any, idx: number) => {\n                            // Determine status: from campaign current_step or fallback to mock\n                            const stepStatus =\n                              outreachData?.campaign?.current_step_number >\n                              channel.step\n                                ? \"completed\"\n                                : outreachData?.campaign\n                                    ?.current_step_number === channel.step\n                                ? \"active\"\n                                : \"pending\";\n                            const displayStatus = channel.status || stepStatus;\n\n                            return (\n                              <div key={idx} className=\"flex gap-4 items-start\">\n                                <div\n                                  className={`p-3 rounded-lg shrink-0 ${\n                                    displayStatus === \"completed\"\n                                      ? \"bg-chart-2/10 text-chart-2\"\n                                      : displayStatus === \"active\"\n                                      ? \"bg-primary/10 text-primary\"\n                                      : \"bg-muted/50 text-muted-foreground\"\n                                  }`}\n                                >\n                                  {channel.channel === \"Email\" && (\n                                    <Mail className=\"w-5 h-5\" />\n                                  )}\n                                  {channel.channel === \"LinkedIn\" && (\n                                    <MessageSquare className=\"w-5 h-5\" />\n                                  )}\n                                  {channel.channel === \"Voice\" && (\n                                    <Phone className=\"w-5 h-5\" />\n                                  )}\n                                </div>\n\n                                <div className=\"flex-1 space-y-2\">\n                                  <div className=\"flex items-center gap-2\">\n                                    <h3 className=\"font-semibold\">\n                                      {channel.channel}\n                                    </h3>\n                                    <Badge\n                                      variant=\"outline\"\n                                      className=\"text-xs\"\n                                    >\n                                      Step {channel.step}\n                                    </Badge>\n                                    {displayStatus === \"completed\" && (\n                                      <CheckCircle2 className=\"w-4 h-4 text-chart-2\" />\n                                    )}\n                                    {displayStatus === \"active\" && (\n                                      <div className=\"flex items-center gap-1 text-primary\">\n                                        <div className=\"w-2 h-2 rounded-full bg-primary animate-pulse\" />\n                                        <span className=\"text-xs font-medium\">\n                                          In Progress\n                                        </span>\n                                      </div>\n                                    )}\n                                    {displayStatus === \"pending\" && (\n                                      <Badge\n                                        variant=\"outline\"\n                                        className=\"text-xs\"\n                                      >\n                                        Upcoming\n                                      </Badge>\n                                    )}\n                                  </div>\n                                  <p className=\"text-sm text-muted-foreground\">\n                                    {channel.goal}\n                                  </p>\n\n                                  {/* View Copy Button */}\n                                  <Button\n                                    variant=\"outline\"\n                                    size=\"sm\"\n                                    onClick={() => {\n                                      // Find the corresponding copy draft\n                                      const drafts =\n                                        outreachData?.copy?.drafts || [];\n                                      const draft = drafts.find(\n                                        (d: any) =>\n                                          d.step === channel.step ||\n                                          (String(d.step) ===\n                                            String(channel.step) &&\n                                            d.channel === channel.channel)\n                                      );\n                                      setSelectedStepCopy(\n                                        draft || {\n                                          step: channel.step,\n                                          channel: channel.channel,\n                                          _missing: true,\n                                        }\n                                      );\n                                      setEditedCopyData(\n                                        draft ? { ...draft } : null\n                                      );\n                                      setEditingCopy(false);\n                                      setCopyDialogOpen(true);\n                                    }}\n                                    className=\"gap-2 mt-2\"\n                                    disabled={\n                                      !outreachData?.copy?.drafts?.some(\n                                        (d: any) =>\n                                          d.step === channel.step ||\n                                          String(d.step) ===\n                                            String(channel.step)\n                                      )\n                                    }\n                                  >\n                                    <FileText className=\"w-4 h-4\" />\n                                    View AI-Generated Copy\n                                  </Button>\n\n                                  {channel.reasoning && (\n                                    <div className=\"bg-muted/30 rounded-lg p-3 mt-2 border border-border/30\">\n                                      <p className=\"text-xs font-medium text-muted-foreground uppercase tracking-wide mb-1\">\n                                        Why this step exists\n                                      </p>\n                                      <p className=\"text-sm\">\n                                        {channel.reasoning}\n                                      </p>\n                                      <div className=\"flex items-center gap-4 mt-2 pt-2 border-t border-border/30\">\n                                        <div className=\"text-xs text-muted-foreground\">\n                                          <span className=\"font-medium\">\n                                            Confidence:\n                                          </span>{\" \"}\n                                          High\n                                        </div>\n                                        <div className=\"text-xs text-muted-foreground\">\n                                          <span className=\"font-medium\">\n                                            Triggered by:\n                                          </span>{\" \"}\n                                          ICP {selectedLead.icpScore} +\n                                          engagement signals\n                                        </div>\n                                      </div>\n                                    </div>\n                                  )}\n\n                                  {/* Voice Readiness Check */}\n                                  {channel.channel === \"Voice\" && (\n                                    <div className=\"bg-primary/5 rounded-lg p-4 mt-2 border border-primary/20\">\n                                      <div className=\"flex items-center gap-2 mb-3\">\n                                        <Target className=\"w-4 h-4 text-primary\" />\n                                        <p className=\"text-xs font-semibold uppercase tracking-wide\">\n                                          Voice Readiness Check\n                                        </p>\n                                      </div>\n                                      <div className=\"space-y-2\">\n                                        <div className=\"flex items-center gap-2 text-sm\">\n                                          <CheckCircle2 className=\"w-4 h-4 text-chart-2\" />\n                                          <span>\n                                            ICP score threshold met (≥80)\n                                          </span>\n                                        </div>\n                                        <div className=\"flex items-center gap-2 text-sm\">\n                                          <CheckCircle2 className=\"w-4 h-4 text-chart-2\" />\n                                          <span>\n                                            Engagement signals met (2+ channels)\n                                          </span>\n                                        </div>\n                                        <div className=\"flex items-center gap-2 text-sm\">\n                                          <CheckCircle2 className=\"w-4 h-4 text-chart-2\" />\n                                          <span>Guardrails passed</span>\n                                        </div>\n                                        <div className=\"flex items-center gap-2 text-sm\">\n                                          <AlertCircle className=\"w-4 h-4 text-muted-foreground\" />\n                                          <span className=\"text-muted-foreground\">\n                                            Human approval: Not required\n                                          </span>\n                                        </div>\n                                      </div>\n                                      <p className=\"text-xs text-muted-foreground mt-3 pt-3 border-t border-border/30\">\n                                        Voice is conditional and used only for\n                                        high-intent leads. This is not a\n                                        voice-first approach.\n                                      </p>\n                                    </div>\n                                  )}\n                                </div>\n                              </div>\n                            );\n                          })}\n                        </div>\n                      </div>\n                    </CardContent>\n                  </Card>\n                )}\n\n                {/* Section 2: Conversation & Activity History (Always Visible) */}\n                <Card>\n                  <CardHeader>\n                    <div className=\"flex items-start justify-between\">\n                      <div>\n                        <CardTitle className=\"flex items-center gap-2\">\n                          <Activity className=\"w-5 h-5\" />\n                          Conversation & Activity History\n                        </CardTitle>\n                        <CardDescription className=\"mt-2\">\n                          Full timeline of messages and AI decisions for\n                          auditability\n                        </CardDescription>\n                      </div>\n                      <Tabs\n                        value={viewMode}\n                        onValueChange={(v) =>\n                          setViewMode(v as \"executive\" | \"full\")\n                        }\n                      >\n                        <TabsList>\n                          <TabsTrigger value=\"executive\" className=\"text-xs\">\n                            Executive Summary\n                          </TabsTrigger>\n                          <TabsTrigger value=\"full\" className=\"text-xs\">\n                            Full Audit Trail\n                          </TabsTrigger>\n                        </TabsList>\n                      </Tabs>\n                    </div>\n                  </CardHeader>\n                  <CardContent>\n                    {/* Status Banner */}\n                    {outreachStatus === \"completed\" && viewMode === \"full\" && (\n                      <div className=\"bg-chart-2/10 rounded-lg p-3 border border-chart-2/30 mb-6\">\n                        <div className=\"flex items-center gap-2\">\n                          <CheckCircle2 className=\"w-4 h-4 text-chart-2\" />\n                          <p className=\"text-xs font-medium\">\n                            Timeline locked for audit. All events are\n                            timestamped and cannot be modified.\n                          </p>\n                        </div>\n                      </div>\n                    )}\n                    {outreachStatus === \"active\" && viewMode === \"full\" && (\n                      <div className=\"bg-primary/10 rounded-lg p-3 border border-primary/20 mb-6\">\n                        <div className=\"flex items-center gap-2\">\n                          <div className=\"w-2 h-2 rounded-full bg-primary animate-pulse\" />\n                          <p className=\"text-xs font-medium\">\n                            Outreach in progress. Events logged in real time as\n                            they occur.\n                          </p>\n                        </div>\n                      </div>\n                    )}\n                    {outreachStatus === \"stopped\" && viewMode === \"full\" && (\n                      <div className=\"bg-destructive/10 rounded-lg p-3 border border-destructive/30 mb-6\">\n                        <div className=\"flex items-center gap-2\">\n                          <StopCircle className=\"w-4 h-4 text-destructive\" />\n                          <p className=\"text-xs font-medium\">\n                            Outreach stopped automatically. Timeline locked for\n                            audit.\n                          </p>\n                        </div>\n                      </div>\n                    )}\n\n                    {viewMode === \"executive\" ? (\n                      /* Executive Summary View */\n                      <div className=\"space-y-4\">\n                        {executiveTimeline.length > 0 ? (\n                          executiveTimeline.map((event) => (\n                            <div\n                              key={event.id}\n                              className=\"flex gap-3 pb-4 border-b last:border-0 last:pb-0\"\n                            >\n                              <div\n                                className={`p-2 rounded-lg shrink-0 h-fit ${\n                                  event.eventType === \"outcome\"\n                                    ? \"bg-chart-2/10 text-chart-2\"\n                                    : event.eventType === \"decision\"\n                                    ? \"bg-primary/10 text-primary\"\n                                    : \"bg-muted text-foreground\"\n                                }`}\n                              >\n                                {event.eventType === \"outcome\" && (\n                                  <CheckCircle2 className=\"w-4 h-4\" />\n                                )}\n                                {event.eventType === \"decision\" && (\n                                  <Target className=\"w-4 h-4\" />\n                                )}\n                                {event.eventType === \"outreach\" &&\n                                  event.metadata?.channel === \"voice\" && (\n                                    <Phone className=\"w-4 h-4\" />\n                                  )}\n                                {event.eventType === \"engagement\" && (\n                                  <MessageSquare className=\"w-4 h-4\" />\n                                )}\n                              </div>\n                              <div className=\"flex-1 space-y-2 min-w-0\">\n                                <div className=\"flex items-start justify-between gap-2\">\n                                  <div className=\"min-w-0\">\n                                    <div className=\"flex items-center gap-2 mb-1 flex-wrap\">\n                                      <Badge\n                                        variant=\"outline\"\n                                        className=\"text-xs\"\n                                      >\n                                        {event.badge}\n                                      </Badge>\n                                      <Badge\n                                        variant=\"secondary\"\n                                        className=\"text-xs\"\n                                      >\n                                        {event.actor}\n                                      </Badge>\n                                      <h4 className=\"font-medium text-sm\">\n                                        {event.title}\n                                      </h4>\n                                    </div>\n                                  </div>\n                                  <span className=\"text-xs text-muted-foreground shrink-0\">\n                                    {event.timestamp}\n                                  </span>\n                                </div>\n                                <p className=\"text-sm text-muted-foreground leading-relaxed\">\n                                  {event.description}\n                                </p>\n                              </div>\n                            </div>\n                          ))\n                        ) : (\n                          <div className=\"text-center py-8\">\n                            <p className=\"text-sm text-muted-foreground\">\n                              No key events to display yet.\n                            </p>\n                          </div>\n                        )}\n                      </div>\n                    ) : (\n                      /* Full Audit Trail View */\n                      <div className=\"space-y-4\">\n                        {/* Ordering clarity cue */}\n                        <div className=\"bg-muted/20 rounded-lg p-2 border border-border/30\">\n                          <p className=\"text-xs text-center text-muted-foreground\">\n                            Events shown in chronological order (oldest →\n                            newest)\n                          </p>\n                        </div>\n\n                        {fullAuditTrail.length > 0 ? (\n                          fullAuditTrail.map((event: any) => {\n                            // Event type styling\n                            const getEventColor = (type: string) => {\n                              switch (type) {\n                                case \"lifecycle\":\n                                  return \"bg-muted/50 border-border text-foreground\";\n                                case \"research\":\n                                  return \"bg-primary/5 border-primary/20 text-primary\";\n                                case \"outreach\":\n                                  return \"bg-chart-3/5 border-chart-3/20 text-chart-3\";\n                                case \"engagement\":\n                                  return \"bg-chart-2/5 border-chart-2/20 text-chart-2\";\n                                case \"decision\":\n                                  return \"bg-primary/10 border-primary/30 text-primary\";\n                                case \"guardrail\":\n                                  return \"bg-chart-4/5 border-chart-4/20 text-chart-4\";\n                                case \"outcome\":\n                                  return \"bg-chart-2/10 border-chart-2/30 text-chart-2\";\n                                default:\n                                  return \"bg-muted border-border text-foreground\";\n                              }\n                            };\n\n                            const getEventIcon = (type: string) => {\n                              switch (type) {\n                                case \"lifecycle\":\n                                  return <Database className=\"w-5 h-5\" />;\n                                case \"research\":\n                                  return <Search className=\"w-5 h-5\" />;\n                                case \"outreach\":\n                                  return <Send className=\"w-5 h-5\" />;\n                                case \"engagement\":\n                                  return <Eye className=\"w-5 h-5\" />;\n                                case \"decision\":\n                                  return <Target className=\"w-5 h-5\" />;\n                                case \"guardrail\":\n                                  return <Shield className=\"w-5 h-5\" />;\n                                case \"outcome\":\n                                  return <CheckCircle2 className=\"w-5 h-5\" />;\n                                default:\n                                  return <Activity className=\"w-5 h-5\" />;\n                              }\n                            };\n\n                            return (\n                              <div key={event.id} className=\"relative\">\n                                {/* Vertical timeline connector */}\n                                <div className=\"absolute left-6 top-14 bottom-0 w-px bg-border\" />\n\n                                <div className=\"flex gap-4\">\n                                  {/* Icon */}\n                                  <div\n                                    className={`p-3 rounded-lg shrink-0 border ${getEventColor(\n                                      event.eventType\n                                    )}`}\n                                  >\n                                    {getEventIcon(event.eventType)}\n                                  </div>\n\n                                  {/* Content Card */}\n                                  <div className=\"flex-1 min-w-0\">\n                                    <div className=\"bg-card border rounded-lg p-4\">\n                                      {/* Header */}\n                                      <div className=\"flex items-start justify-between gap-4 mb-3\">\n                                        <div className=\"flex-1\">\n                                          <div className=\"flex items-center gap-2 mb-2 flex-wrap\">\n                                            <Badge\n                                              variant=\"outline\"\n                                              className=\"text-xs\"\n                                            >\n                                              {event.badge}\n                                            </Badge>\n                                            <Badge\n                                              variant={\n                                                event.actor === \"AI\"\n                                                  ? \"default\"\n                                                  : event.actor === \"Human\"\n                                                  ? \"secondary\"\n                                                  : \"outline\"\n                                              }\n                                              className=\"text-xs\"\n                                            >\n                                              {event.actor}\n                                            </Badge>\n                                          </div>\n                                          <h4 className=\"font-semibold text-sm\">\n                                            {event.title}\n                                          </h4>\n                                        </div>\n                                        <span className=\"text-xs text-muted-foreground shrink-0\">\n                                          {event.timestamp}\n                                        </span>\n                                      </div>\n\n                                      {/* Description */}\n                                      <p className=\"text-sm text-foreground leading-relaxed mb-3\">\n                                        {event.description}\n                                      </p>\n\n                                      {/* Metadata */}\n                                      {event.metadata &&\n                                        Object.keys(event.metadata).length >\n                                          0 && (\n                                          <div className=\"bg-muted/30 rounded-lg p-3 border border-border/30\">\n                                            <p className=\"text-xs font-medium text-muted-foreground uppercase tracking-wide mb-2\">\n                                              Event Details\n                                            </p>\n                                            <div className=\"grid grid-cols-2 gap-x-4 gap-y-2\">\n                                              {Object.entries(\n                                                event.metadata\n                                              ).map(([key, value]) => (\n                                                <div key={key}>\n                                                  <span className=\"text-xs text-muted-foreground capitalize\">\n                                                    {key\n                                                      .replace(\n                                                        /([A-Z])/g,\n                                                        \" $1\"\n                                                      )\n                                                      .trim()}\n                                                    :\n                                                  </span>{\" \"}\n                                                  <span className=\"text-xs font-medium\">\n                                                    {Array.isArray(value)\n                                                      ? value.join(\", \")\n                                                      : typeof value ===\n                                                        \"boolean\"\n                                                      ? value\n                                                        ? \"Yes\"\n                                                        : \"No\"\n                                                      : String(value)}\n                                                  </span>\n                                                </div>\n                                              ))}\n                                            </div>\n                                          </div>\n                                        )}\n\n                                      {/* View Message Content (for outreach/engagement events) */}\n                                      {(event.eventType === \"outreach\" ||\n                                        event.eventType === \"engagement\") &&\n                                        event.metadata?.channel &&\n                                        (() => {\n                                          const message = conversations.find(\n                                            (m) => m.id === event.id\n                                          );\n                                          return (\n                                            message?.body || message?.scriptUsed\n                                          );\n                                        })() && (\n                                          <div className=\"mt-3\">\n                                            <Button\n                                              variant=\"ghost\"\n                                              size=\"sm\"\n                                              onClick={() =>\n                                                toggleMessageContent(event.id)\n                                              }\n                                              className=\"text-xs w-full justify-start\"\n                                            >\n                                              <Eye className=\"w-3 h-3 mr-2\" />\n                                              {expandedMessageContent.has(\n                                                event.id\n                                              )\n                                                ? \"Hide\"\n                                                : \"View\"}{\" \"}\n                                              Message Content\n                                              {expandedMessageContent.has(\n                                                event.id\n                                              ) ? (\n                                                <ChevronUp className=\"w-3 h-3 ml-auto\" />\n                                              ) : (\n                                                <ChevronDown className=\"w-3 h-3 ml-auto\" />\n                                              )}\n                                            </Button>\n\n                                            {expandedMessageContent.has(\n                                              event.id\n                                            ) &&\n                                              (() => {\n                                                const message =\n                                                  conversations.find(\n                                                    (m) => m.id === event.id\n                                                  );\n                                                if (!message) return null;\n\n                                                return (\n                                                  <div className=\"mt-3 bg-background rounded-lg p-4 border border-primary/20 space-y-3\">\n                                                    <div className=\"flex items-center gap-2\">\n                                                      <Badge\n                                                        variant=\"outline\"\n                                                        className=\"text-xs\"\n                                                      >\n                                                        {message.channel ===\n                                                        \"email\"\n                                                          ? \"Email Content\"\n                                                          : message.channel ===\n                                                            \"linkedin\"\n                                                          ? \"LinkedIn Message\"\n                                                          : message.channel ===\n                                                            \"voice\"\n                                                          ? \"Voice Call\"\n                                                          : \"Message Content\"}\n                                                      </Badge>\n                                                      {message.aiGenerated && (\n                                                        <Badge\n                                                          variant=\"outline\"\n                                                          className=\"text-xs bg-primary/5 border-primary/20\"\n                                                        >\n                                                          AI-generated\n                                                        </Badge>\n                                                      )}\n                                                    </div>\n\n                                                    {message.subject && (\n                                                      <div>\n                                                        <p className=\"text-xs font-medium text-muted-foreground mb-1\">\n                                                          Subject\n                                                        </p>\n                                                        <p className=\"text-sm font-medium\">\n                                                          {message.subject}\n                                                        </p>\n                                                      </div>\n                                                    )}\n\n                                                    {message.body && (\n                                                      <div>\n                                                        <p className=\"text-xs font-medium text-muted-foreground mb-2\">\n                                                          {message.channel ===\n                                                          \"email\"\n                                                            ? \"Email Body\"\n                                                            : message.channel ===\n                                                              \"linkedin\"\n                                                            ? \"LinkedIn Message\"\n                                                            : \"Message Content\"}\n                                                        </p>\n                                                        <div className=\"bg-muted/30 rounded-lg p-4 border border-border/30\">\n                                                          <pre className=\"text-sm whitespace-pre-wrap text-foreground leading-relaxed font-sans\">\n                                                            {message.body}\n                                                          </pre>\n                                                        </div>\n                                                      </div>\n                                                    )}\n\n                                                    {message.scriptUsed && (\n                                                      <div>\n                                                        <p className=\"text-xs font-medium text-muted-foreground mb-2\">\n                                                          Voice Call Script\n                                                          (AI-Generated)\n                                                        </p>\n                                                        <div className=\"bg-muted/30 rounded-lg p-4 border border-border/30\">\n                                                          <pre className=\"text-xs font-mono whitespace-pre-wrap text-foreground leading-relaxed\">\n                                                            {message.scriptUsed}\n                                                          </pre>\n                                                        </div>\n                                                      </div>\n                                                    )}\n\n                                                    {message.personalizationTokens &&\n                                                      message\n                                                        .personalizationTokens\n                                                        .length > 0 && (\n                                                        <div>\n                                                          <p className=\"text-xs font-medium text-muted-foreground mb-2\">\n                                                            Personalization\n                                                            Tokens\n                                                          </p>\n                                                          <div className=\"flex flex-wrap gap-2\">\n                                                            {(\n                                                              message.personalizationTokens ||\n                                                              []\n                                                            ).map(\n                                                              (token, tidx) => (\n                                                                <Badge\n                                                                  key={tidx}\n                                                                  variant=\"outline\"\n                                                                  className=\"text-xs\"\n                                                                >\n                                                                  {token}\n                                                                </Badge>\n                                                              )\n                                                            )}\n                                                          </div>\n                                                        </div>\n                                                      )}\n\n                                                    <div className=\"pt-2 border-t text-xs text-muted-foreground\">\n                                                      This shows the exact\n                                                      content sent to the lead\n                                                      for full transparency and\n                                                      auditability.\n                                                    </div>\n                                                  </div>\n                                                );\n                                              })()}\n                                          </div>\n                                        )}\n                                    </div>\n                                  </div>\n                                </div>\n                              </div>\n                            );\n                          })\n                        ) : (\n                          <div className=\"text-center py-12\">\n                            <div className=\"flex flex-col items-center gap-4\">\n                              <div className=\"p-4 rounded-full bg-muted\">\n                                <FileText className=\"w-8 h-8 text-muted-foreground\" />\n                              </div>\n                              <div>\n                                <h4 className=\"font-semibold mb-1\">\n                                  No audit trail available\n                                </h4>\n                                <p className=\"text-sm text-muted-foreground\">\n                                  This lead is still in research phase. Full\n                                  audit trail will be available once outreach\n                                  begins.\n                                </p>\n                              </div>\n                            </div>\n                          </div>\n                        )}\n\n                        {/* Demo disclaimer */}\n                        <div className=\"mt-6 pt-4 border-t border-border/50\">\n                          <p className=\"text-xs text-center text-muted-foreground\">\n                            This is an immutable audit log. All events are\n                            timestamped and cannot be modified.\n                          </p>\n                        </div>\n                      </div>\n                    )}\n                  </CardContent>\n                </Card>\n\n                {/* Section 3: Controls & Guardrails (conditionally styled) */}\n                {outreachStatus === \"active\" && (\n                  <>\n                    {/* Human Controls */}\n                    <Card className=\"border-primary/20 bg-primary/5\">\n                      <CardHeader>\n                        <CardTitle>Human Controls</CardTitle>\n                        <CardDescription>\n                          Override AI decisions or adjust outreach strategy\n                        </CardDescription>\n                      </CardHeader>\n                      <CardContent className=\"space-y-4\">\n                        <div className=\"flex flex-wrap gap-2\">\n                          <Button\n                            size=\"sm\"\n                            variant=\"outline\"\n                            disabled={isUpdating}\n                            onClick={() => setControlDialogOpen(\"pause\")}\n                            className=\"gap-2\"\n                          >\n                            <Pause className=\"w-4 h-4\" />\n                            Pause Outreach\n                          </Button>\n                          <Button\n                            size=\"sm\"\n                            variant=\"outline\"\n                            disabled={isUpdating}\n                            onClick={() => setControlDialogOpen(\"voice\")}\n                            className=\"gap-2\"\n                          >\n                            <PhoneCall className=\"w-4 h-4\" />\n                            Force Voice Escalation\n                          </Button>\n                          <Button\n                            size=\"sm\"\n                            variant=\"outline\"\n                            disabled={isUpdating}\n                            onClick={() => setControlDialogOpen(\"stop\")}\n                            className=\"gap-2\"\n                          >\n                            <StopCircle className=\"w-4 h-4\" />\n                            Stop Outreach\n                          </Button>\n                          <Button\n                            size=\"sm\"\n                            variant=\"outline\"\n                            disabled={isUpdating}\n                            className=\"gap-2\"\n                          >\n                            <UserCheck className=\"w-4 h-4\" />\n                            Send to AE for Review\n                          </Button>\n                        </div>\n\n                        <p className=\"text-xs text-muted-foreground\">\n                          All control actions are logged for audit purposes and\n                          require confirmation.\n                        </p>\n                        {statusNote && (\n                          <div className=\"bg-background rounded-lg p-3 border\">\n                            <p className=\"text-xs text-muted-foreground\">\n                              {statusNote}\n                            </p>\n                          </div>\n                        )}\n                      </CardContent>\n                    </Card>\n\n                    {/* Outreach Guardrails */}\n                    <Card className=\"border-chart-4/20 bg-chart-4/5\">\n                      <CardHeader className=\"relative pr-20\">\n                        <div>\n                          <CardTitle className=\"flex items-center gap-2\">\n                            <Shield className=\"w-5 h-5 text-chart-4\" />\n                            Outreach Guardrails\n                          </CardTitle>\n                          <CardDescription>\n                            Automated safety controls to maintain quality and\n                            compliance\n                          </CardDescription>\n                        </div>\n                        <Button\n                          variant=\"ghost\"\n                          size=\"sm\"\n                          onClick={() => {\n                            const guardrails =\n                              outreachData?.guardrails || strategy.guardrails;\n                            setEditFormData({\n                              max_touches: guardrails.max_touches || 8,\n                              voice_escalation_allowed:\n                                guardrails.voice_escalation_allowed ?? true,\n                              voice_escalation_trigger:\n                                guardrails.voice_escalation_trigger ||\n                                \"High ICP (≥80) + engagement on 2+ channels\",\n                              stop_conditions: (\n                                guardrails.stop_conditions || []\n                              ).join(\"\\n\"),\n                              compliance_rules: (\n                                guardrails.compliance_rules || []\n                              ).join(\"\\n\"),\n                            });\n                            setEditSidebar({\n                              open: true,\n                              section: \"guardrails\",\n                            });\n                          }}\n                          className=\"absolute top-4 right-4 h-6 px-2 gap-1.5 text-xs\"\n                        >\n                          <Edit3 className=\"h-3 w-3\" />\n                          Edit\n                        </Button>\n                      </CardHeader>\n                      <CardContent className=\"space-y-6\">\n                        {/* Frequency Limits */}\n                        <div>\n                          <p className=\"text-xs font-semibold text-foreground uppercase tracking-wide mb-3\">\n                            Frequency Limits\n                          </p>\n                          <div className=\"grid grid-cols-2 gap-4\">\n                            <div className=\"bg-background rounded-lg p-3 border\">\n                              <p className=\"text-xs text-muted-foreground mb-1\">\n                                Maximum Touches\n                              </p>\n                              <p className=\"text-lg font-semibold\">\n                                {outreachData?.guardrails?.max_touches ||\n                                  strategy.guardrails.maxTouches}{\" \"}\n                                touches\n                              </p>\n                              <p className=\"text-xs text-muted-foreground mt-1\">\n                                After this, outreach stops automatically\n                              </p>\n                            </div>\n                            <div className=\"bg-background rounded-lg p-3 border\">\n                              <p className=\"text-xs text-muted-foreground mb-1\">\n                                Voice Escalation\n                              </p>\n                              <p className=\"text-lg font-semibold\">\n                                {outreachData?.guardrails\n                                  ?.voice_escalation_allowed ??\n                                strategy.guardrails.voiceEscalationAllowed\n                                  ? \"Allowed\"\n                                  : \"Not Allowed\"}\n                              </p>\n                              <p className=\"text-xs text-muted-foreground mt-1\">\n                                {outreachData?.guardrails\n                                  ?.voice_escalation_trigger ||\n                                  strategy.guardrails.voiceEscalationTrigger ||\n                                  \"Configured in Agent Instructions\"}\n                              </p>\n                            </div>\n                          </div>\n                        </div>\n\n                        {/* AI Auto-Stop Conditions */}\n                        <div>\n                          <p className=\"text-xs font-semibold text-foreground uppercase tracking-wide mb-3\">\n                            AI Auto-Stop Conditions\n                          </p>\n                          <ul className=\"space-y-2\">\n                            {(\n                              outreachData?.guardrails?.stop_conditions ||\n                              strategy?.guardrails?.stopConditions ||\n                              []\n                            ).map((condition: string, idx: number) => (\n                              <li\n                                key={idx}\n                                className=\"flex items-start gap-2 text-sm\"\n                              >\n                                <StopCircle className=\"w-4 h-4 text-destructive mt-0.5 shrink-0\" />\n                                <div>\n                                  <span className=\"font-medium\">\n                                    {condition}\n                                  </span>\n                                  <p className=\"text-xs text-muted-foreground mt-0.5\">\n                                    Jazon will immediately stop outreach when\n                                    this occurs\n                                  </p>\n                                </div>\n                              </li>\n                            ))}\n                          </ul>\n                        </div>\n\n                        {/* Compliance Rules */}\n                        <div>\n                          <p className=\"text-xs font-semibold text-foreground uppercase tracking-wide mb-3\">\n                            Compliance Rules\n                          </p>\n                          <ul className=\"space-y-2\">\n                            {(\n                              outreachData?.guardrails?.compliance_rules || [\n                                \"No weekend outreach (respects business hours)\",\n                                \"Unsubscribe links included in all emails\",\n                                \"GDPR and CAN-SPAM compliant messaging\",\n                              ]\n                            ).map((rule: string, idx: number) => (\n                              <li\n                                key={idx}\n                                className=\"flex items-start gap-2 text-sm\"\n                              >\n                                <CheckCircle2 className=\"w-4 h-4 text-chart-2 mt-0.5 shrink-0\" />\n                                <span>{rule}</span>\n                              </li>\n                            ))}\n                          </ul>\n                        </div>\n                      </CardContent>\n                    </Card>\n                  </>\n                )}\n\n                {/* Metrics with Context (Always visible for active/completed leads) */}\n                {(outreachStatus === \"active\" ||\n                  outreachStatus === \"completed\") && (\n                  <div className=\"grid gap-4 md:grid-cols-3\">\n                    <Card>\n                      <CardHeader className=\"pb-3\">\n                        <CardTitle className=\"text-sm\">Channel Mix</CardTitle>\n                      </CardHeader>\n                      <CardContent>\n                        <div className=\"space-y-3\">\n                          <div className=\"flex items-center justify-between text-sm\">\n                            <span className=\"text-muted-foreground\">Email</span>\n                            <span className=\"font-medium\">40%</span>\n                          </div>\n                          <div className=\"flex items-center justify-between text-sm\">\n                            <span className=\"text-muted-foreground\">\n                              LinkedIn\n                            </span>\n                            <span className=\"font-medium\">35%</span>\n                          </div>\n                          <div className=\"flex items-center justify-between text-sm\">\n                            <span className=\"text-muted-foreground\">Voice</span>\n                            <span className=\"font-medium\">25%</span>\n                          </div>\n                        </div>\n                        <p className=\"text-xs text-muted-foreground mt-3 pt-3 border-t\">\n                          Optimized based on ICP segment patterns\n                        </p>\n                      </CardContent>\n                    </Card>\n\n                    <Card>\n                      <CardHeader className=\"pb-3\">\n                        <CardTitle className=\"text-sm\">Response Rate</CardTitle>\n                      </CardHeader>\n                      <CardContent>\n                        <div className=\"flex items-baseline gap-2\">\n                          <div className=\"text-3xl font-bold text-chart-2\">\n                            32%\n                          </div>\n                          <TrendingUp className=\"w-4 h-4 text-chart-2\" />\n                        </div>\n                        <p className=\"text-xs text-muted-foreground mt-1\">\n                          Above average for this ICP segment\n                        </p>\n                        <p className=\"text-xs text-muted-foreground mt-2 pt-2 border-t\">\n                          Team benchmark: 24% • Segment avg: 28%\n                        </p>\n                      </CardContent>\n                    </Card>\n\n                    <Card>\n                      <CardHeader className=\"pb-3\">\n                        <CardTitle className=\"text-sm\">\n                          Avg. Time to Response\n                        </CardTitle>\n                      </CardHeader>\n                      <CardContent>\n                        <div className=\"text-3xl font-bold\">18h</div>\n                        <p className=\"text-xs text-muted-foreground mt-1\">\n                          Median response time\n                        </p>\n                        <p className=\"text-xs text-muted-foreground mt-2 pt-2 border-t\">\n                          Faster than enterprise avg: 36h\n                        </p>\n                      </CardContent>\n                    </Card>\n                  </div>\n                )}\n\n                {/* Demo Safety Footer */}\n                <div className=\"bg-muted/20 rounded-lg p-3 border border-border/30\">\n                  <p className=\"text-xs text-center text-muted-foreground\">\n                    All actions shown are part of a demo environment and do not\n                    affect real systems.\n                  </p>\n                </div>\n              </>\n            )}\n          </div>\n        </div>\n      </SidebarInset>\n\n      {/* Control Confirmation Dialogs */}\n      <Dialog\n        open={!!controlDialogOpen}\n        onOpenChange={() => setControlDialogOpen(null)}\n      >\n        <DialogContent>\n          <DialogHeader>\n            <DialogTitle>\n              {controlDialogOpen === \"pause\" && \"Pause Outreach\"}\n              {controlDialogOpen === \"voice\" && \"Force Voice Escalation\"}\n              {controlDialogOpen === \"stop\" && \"Stop Outreach\"}\n            </DialogTitle>\n            <DialogDescription>\n              This action will be logged for audit purposes and require\n              confirmation.\n            </DialogDescription>\n          </DialogHeader>\n          <div className=\"py-4\">\n            <label className=\"text-sm font-medium mb-2 block\">\n              Reason for override (optional):\n            </label>\n            <Textarea\n              placeholder=\"Enter a brief explanation for this manual intervention...\"\n              value={overrideReason}\n              onChange={(e) => setOverrideReason(e.target.value)}\n              rows={3}\n            />\n          </div>\n          <DialogFooter>\n            <Button\n              variant=\"outline\"\n              onClick={() => setControlDialogOpen(null)}\n            >\n              Cancel\n            </Button>\n            <Button\n              onClick={() => {\n                if (selectedLead?._dbLead) {\n                  // Use real API\n                  handleControlAction(controlDialogOpen || \"\");\n                } else {\n                  // Fallback to mock\n                  const messages = {\n                    pause:\n                      \"Outreach paused for this lead. All scheduled actions stopped.\",\n                    voice:\n                      \"Voice escalation forced for next touch, aligned with escalation rules.\",\n                    stop: \"Outreach stopped for this lead. Marked for review.\",\n                  };\n                  simulateUpdate(\n                    controlDialogOpen || \"\",\n                    messages[controlDialogOpen as keyof typeof messages] ||\n                      \"Action completed\"\n                  );\n                }\n              }}\n            >\n              Confirm\n            </Button>\n          </DialogFooter>\n        </DialogContent>\n      </Dialog>\n\n      {/* Copy View/Edit Sidebar */}\n      <Sheet open={copyDialogOpen} onOpenChange={setCopyDialogOpen}>\n        <SheetContent className=\"w-[90vw] sm:w-[1200px] max-w-[1400px] flex flex-col overflow-hidden\">\n          <SheetHeader className=\"px-6 pt-6 pb-4 border-b\">\n            <SheetTitle className=\"text-2xl font-semibold flex items-center gap-3\">\n              {selectedStepCopy?.channel === \"Email\" && (\n                <div className=\"p-2 rounded-lg bg-blue-500/10\">\n                  <Mail className=\"w-5 h-5 text-blue-600\" />\n                </div>\n              )}\n              {selectedStepCopy?.channel === \"LinkedIn\" && (\n                <div className=\"p-2 rounded-lg bg-indigo-500/10\">\n                  <Linkedin className=\"w-5 h-5 text-indigo-600\" />\n                </div>\n              )}\n              {selectedStepCopy?.channel === \"Voice\" && (\n                <div className=\"p-2 rounded-lg bg-purple-500/10\">\n                  <Phone className=\"w-5 h-5 text-purple-600\" />\n                </div>\n              )}\n              <div>\n                <div className=\"flex items-center gap-2\">\n                  <span>\n                    Step {selectedStepCopy?.step}: {selectedStepCopy?.channel}{\" \"}\n                    Copy\n                  </span>\n                  <Badge variant=\"outline\" className=\"text-xs\">\n                    {editingCopy ? \"Editing\" : \"AI-Generated\"}\n                  </Badge>\n                </div>\n              </div>\n            </SheetTitle>\n            <SheetDescription className=\"text-sm\">\n              {editingCopy\n                ? \"Edit the AI-generated copy below. Your changes will override the AI suggestions.\"\n                : \"View the AI-generated copy for this outreach step. Click 'Edit Copy' to make changes.\"}\n            </SheetDescription>\n          </SheetHeader>\n\n          <div className=\"flex-1 overflow-y-auto px-6 py-6\">\n            {selectedStepCopy && (\n              <div className=\"space-y-6\">\n                {selectedStepCopy._missing && (\n                  <Alert>\n                    <AlertCircle className=\"w-4 h-4\" />\n                    <AlertTitle>No Draft Available</AlertTitle>\n                    <AlertDescription>\n                      No AI draft found for this step yet. Regenerate outreach\n                      to generate drafts, or edit and save your own copy.\n                    </AlertDescription>\n                  </Alert>\n                )}\n\n                {/* Email Copy */}\n                {selectedStepCopy.channel === \"Email\" && (\n                  <>\n                    <div className=\"space-y-3\">\n                      <div className=\"flex items-center justify-between\">\n                        <Label className=\"text-base font-semibold\">\n                          Subject Line Options\n                        </Label>\n                        {!editingCopy && (\n                          <Badge variant=\"secondary\" className=\"text-xs\">\n                            {selectedStepCopy.subject_options?.length || 0}{\" \"}\n                            options\n                          </Badge>\n                        )}\n                      </div>\n                      {editingCopy ? (\n                        <Textarea\n                          value={(editedCopyData?.subject_options || []).join(\n                            \"\\n\"\n                          )}\n                          onChange={(e) =>\n                            setEditedCopyData({\n                              ...editedCopyData,\n                              subject_options: e.target.value\n                                .split(\"\\n\")\n                                .filter((s) => s.trim()),\n                            })\n                          }\n                          rows={3}\n                          placeholder=\"Enter subject lines (one per line)\"\n                          className=\"text-sm resize-none\"\n                        />\n                      ) : (\n                        <div className=\"space-y-2\">\n                          {(selectedStepCopy.subject_options || []).map(\n                            (subject: string, idx: number) => (\n                              <Card\n                                key={idx}\n                                className=\"bg-muted/30 border-border/50\"\n                              >\n                                <CardContent className=\"p-4\">\n                                  <p className=\"text-sm font-medium text-foreground\">\n                                    {subject}\n                                  </p>\n                                </CardContent>\n                              </Card>\n                            )\n                          )}\n                        </div>\n                      )}\n                    </div>\n\n                    <div className=\"space-y-3\">\n                      <Label className=\"text-base font-semibold\">\n                        Email Body\n                      </Label>\n                      {editingCopy ? (\n                        <Textarea\n                          value={editedCopyData?.body || \"\"}\n                          onChange={(e) =>\n                            setEditedCopyData({\n                              ...editedCopyData,\n                              body: e.target.value,\n                            })\n                          }\n                          rows={14}\n                          placeholder=\"Enter email body\"\n                          className=\"text-sm resize-none\"\n                        />\n                      ) : (\n                        <Card className=\"bg-muted/30 border-border/50\">\n                          <CardContent className=\"p-5\">\n                            <pre className=\"text-sm whitespace-pre-wrap font-sans leading-relaxed text-foreground\">\n                              {selectedStepCopy.body}\n                            </pre>\n                          </CardContent>\n                        </Card>\n                      )}\n                    </div>\n                  </>\n                )}\n\n                {/* LinkedIn Copy */}\n                {selectedStepCopy.channel === \"LinkedIn\" && (\n                  <div className=\"space-y-3\">\n                    <Label className=\"text-base font-semibold\">\n                      LinkedIn Connection Message\n                    </Label>\n                    {editingCopy ? (\n                      <Textarea\n                        value={editedCopyData?.body || \"\"}\n                        onChange={(e) =>\n                          setEditedCopyData({\n                            ...editedCopyData,\n                            body: e.target.value,\n                          })\n                        }\n                        rows={8}\n                        placeholder=\"Enter LinkedIn message\"\n                        className=\"text-sm resize-none\"\n                      />\n                    ) : (\n                      <Card className=\"bg-muted/30 border-border/50\">\n                        <CardContent className=\"p-5\">\n                          <pre className=\"text-sm whitespace-pre-wrap font-sans leading-relaxed text-foreground\">\n                            {selectedStepCopy.body}\n                          </pre>\n                        </CardContent>\n                      </Card>\n                    )}\n                  </div>\n                )}\n\n                {/* Voice Copy */}\n                {selectedStepCopy.channel === \"Voice\" && (\n                  <div className=\"space-y-3\">\n                    <div className=\"flex items-center justify-between\">\n                      <Label className=\"text-base font-semibold\">\n                        Voice Call Script & Talking Points\n                      </Label>\n                      {!editingCopy && (\n                        <Badge variant=\"secondary\" className=\"text-xs\">\n                          {selectedStepCopy.talking_points?.length || 0} points\n                        </Badge>\n                      )}\n                    </div>\n                    {editingCopy ? (\n                      <div className=\"space-y-2\">\n                        <p className=\"text-xs text-muted-foreground\">\n                          Enter each talking point separated by a blank line\n                        </p>\n                        <Textarea\n                          value={(editedCopyData?.talking_points || []).join(\n                            \"\\n\\n\"\n                          )}\n                          onChange={(e) =>\n                            setEditedCopyData({\n                              ...editedCopyData,\n                              talking_points: e.target.value\n                                .split(\"\\n\\n\")\n                                .filter((s) => s.trim()),\n                            })\n                          }\n                          rows={18}\n                          placeholder=\"Enter talking points (separate with blank lines)\"\n                          className=\"text-sm resize-none\"\n                        />\n                      </div>\n                    ) : (\n                      <Card className=\"bg-muted/30 border-border/50\">\n                        <CardContent className=\"p-5 space-y-4\">\n                          {(selectedStepCopy.talking_points || []).map(\n                            (point: string, idx: number) => (\n                              <div key={idx} className=\"flex gap-3\">\n                                <div className=\"flex-shrink-0 w-7 h-7 rounded-full bg-primary/10 border border-primary/20 text-primary flex items-center justify-center text-xs font-semibold\">\n                                  {idx + 1}\n                                </div>\n                                <p className=\"text-sm flex-1 leading-relaxed text-foreground pt-0.5\">\n                                  {point}\n                                </p>\n                              </div>\n                            )\n                          )}\n                        </CardContent>\n                      </Card>\n                    )}\n                  </div>\n                )}\n\n                {/* Personalization Used */}\n                {selectedStepCopy.personalization_used &&\n                  selectedStepCopy.personalization_used.length > 0 && (\n                    <div className=\"space-y-3\">\n                      <Label className=\"text-base font-semibold\">\n                        Personalization Signals Used\n                      </Label>\n                      <div className=\"flex flex-wrap gap-2\">\n                        {selectedStepCopy.personalization_used.map(\n                          (signal: string, idx: number) => (\n                            <Badge\n                              key={idx}\n                              variant=\"secondary\"\n                              className=\"text-xs py-1.5 px-3\"\n                            >\n                              {signal}\n                            </Badge>\n                          )\n                        )}\n                      </div>\n                    </div>\n                  )}\n\n                {/* Strategy Alignment */}\n                {selectedStepCopy.strategy_alignment && (\n                  <div className=\"space-y-3\">\n                    <Label className=\"text-base font-semibold\">\n                      Strategy Alignment\n                    </Label>\n                    <Card className=\"bg-primary/5 border-primary/20\">\n                      <CardContent className=\"p-4\">\n                        <div className=\"flex gap-3\">\n                          <Target className=\"w-5 h-5 text-primary flex-shrink-0 mt-0.5\" />\n                          <p className=\"text-sm text-foreground leading-relaxed\">\n                            {selectedStepCopy.strategy_alignment}\n                          </p>\n                        </div>\n                      </CardContent>\n                    </Card>\n                  </div>\n                )}\n              </div>\n            )}\n          </div>\n\n          <SheetFooter className=\"px-6 py-4 border-t bg-muted/30\">\n            {!editingCopy ? (\n              <div className=\"flex items-center gap-2 w-full\">\n                <Button\n                  variant=\"outline\"\n                  onClick={() => setCopyDialogOpen(false)}\n                  className=\"flex-1\"\n                >\n                  Close\n                </Button>\n                <Button\n                  onClick={() => setEditingCopy(true)}\n                  className=\"flex-1 gap-2\"\n                >\n                  <Edit3 className=\"w-4 h-4\" />\n                  Edit Copy\n                </Button>\n              </div>\n            ) : (\n              <div className=\"flex items-center gap-2 w-full\">\n                <Button\n                  variant=\"outline\"\n                  onClick={() => {\n                    setEditingCopy(false);\n                    setEditedCopyData(\n                      selectedStepCopy ? { ...selectedStepCopy } : null\n                    );\n                  }}\n                  className=\"flex-1\"\n                >\n                  Cancel\n                </Button>\n                <Button\n                  onClick={async () => {\n                    if (!selectedLead?._dbLead || !editedCopyData) return;\n\n                    setIsSaving(true);\n                    setStatusNote(\"Saving copy edits...\");\n\n                    try {\n                      // Find the copy run ID\n                      const copyRunId = outreachData?.copy?._id;\n                      if (!copyRunId) {\n                        throw new Error(\"Copy run ID not found\");\n                      }\n\n                      // Update the specific draft in the drafts array\n                      const updatedDrafts = (\n                        outreachData.copy.drafts || []\n                      ).map((d: any) =>\n                        d.step === editedCopyData.step ? editedCopyData : d\n                      );\n\n                      const response = await fetch(\n                        `/api/leads/${selectedLead.id}/outreach/override`,\n                        {\n                          method: \"PATCH\",\n                          headers: {\n                            \"Content-Type\": \"application/json\",\n                          },\n                          body: JSON.stringify({\n                            scope: \"outreach_copy\",\n                            entity_id: copyRunId,\n                            updates: {\n                              drafts: updatedDrafts,\n                            },\n                            path_prefix: \"copy_output\",\n                            reason: \"Manual UI edit via Copy Sidebar\",\n                          }),\n                        }\n                      );\n\n                      if (!response.ok) {\n                        const errorData = await response.json();\n                        throw new Error(\n                          errorData.message ||\n                            `HTTP error! status: ${response.status}`\n                        );\n                      }\n\n                      setStatusNote(\"Copy edits saved successfully!\");\n                      setEditingCopy(false);\n                      setCopyDialogOpen(false);\n\n                      // Refetch outreach data\n                      const updatedOutreachResponse = await fetch(\n                        `/api/leads/${selectedLead.id}/outreach`\n                      );\n                      const updatedOutreachData =\n                        await updatedOutreachResponse.json();\n                      setOutreachData(updatedOutreachData.data);\n                    } catch (error: any) {\n                      console.error(\"Error saving copy edits:\", error);\n                      setStatusNote(`Error saving edits: ${error.message}`);\n                    } finally {\n                      setIsSaving(false);\n                    }\n                  }}\n                  disabled={isSaving}\n                  className=\"flex-1 gap-2\"\n                >\n                  {isSaving ? (\n                    <Loader2 className=\"w-4 h-4 animate-spin\" />\n                  ) : (\n                    <CheckCircle2 className=\"w-4 h-4\" />\n                  )}\n                  Save Changes\n                </Button>\n              </div>\n            )}\n          </SheetFooter>\n        </SheetContent>\n      </Sheet>\n\n      {/* Edit Sidebars */}\n      <Sheet\n        open={editSidebar.open}\n        onOpenChange={(open) => setEditSidebar({ ...editSidebar, open })}\n      >\n        <SheetContent className=\"w-[600px] sm:w-[800px] overflow-y-auto\">\n          <SheetHeader className=\"px-6\">\n            <SheetTitle className=\"text-xl font-semibold\">\n              Edit{\" \"}\n              {editSidebar.section === \"strategy\"\n                ? \"Outreach Strategy\"\n                : editSidebar.section === \"copy\"\n                ? \"Outreach Copy\"\n                : \"Guardrails\"}\n            </SheetTitle>\n            <SheetDescription className=\"text-sm text-muted-foreground\">\n              Update the fields below. All fields are prefilled and can be\n              edited.\n            </SheetDescription>\n          </SheetHeader>\n\n          <div className=\"px-6 py-6 space-y-6\">\n            {editSidebar.section === \"guardrails\" && (\n              <>\n                <div className=\"space-y-2\">\n                  <Label htmlFor=\"max_touches\" className=\"text-sm font-medium\">\n                    Maximum Touches\n                  </Label>\n                  <Input\n                    id=\"max_touches\"\n                    type=\"number\"\n                    value={editFormData.max_touches || \"\"}\n                    onChange={(e) =>\n                      setEditFormData({\n                        ...editFormData,\n                        max_touches: e.target.value,\n                      })\n                    }\n                    placeholder=\"e.g., 8\"\n                    className=\"w-full\"\n                  />\n                </div>\n\n                <div className=\"flex items-center space-x-2\">\n                  <input\n                    type=\"checkbox\"\n                    id=\"voice_escalation_allowed\"\n                    checked={editFormData.voice_escalation_allowed}\n                    onChange={(e) =>\n                      setEditFormData({\n                        ...editFormData,\n                        voice_escalation_allowed: e.target.checked,\n                      })\n                    }\n                    className=\"h-4 w-4\"\n                  />\n                  <Label\n                    htmlFor=\"voice_escalation_allowed\"\n                    className=\"text-sm font-medium\"\n                  >\n                    Voice Escalation Allowed\n                  </Label>\n                </div>\n\n                <div className=\"space-y-2\">\n                  <Label\n                    htmlFor=\"voice_escalation_trigger\"\n                    className=\"text-sm font-medium\"\n                  >\n                    Voice Escalation Trigger\n                  </Label>\n                  <Textarea\n                    id=\"voice_escalation_trigger\"\n                    value={editFormData.voice_escalation_trigger || \"\"}\n                    onChange={(e) =>\n                      setEditFormData({\n                        ...editFormData,\n                        voice_escalation_trigger: e.target.value,\n                      })\n                    }\n                    rows={3}\n                    placeholder=\"e.g., High ICP (≥80) + engagement on 2+ channels\"\n                    className=\"w-full resize-none\"\n                  />\n                </div>\n\n                <div className=\"space-y-2\">\n                  <Label\n                    htmlFor=\"stop_conditions\"\n                    className=\"text-sm font-medium\"\n                  >\n                    AI Auto-Stop Conditions (one per line)\n                  </Label>\n                  <Textarea\n                    id=\"stop_conditions\"\n                    value={editFormData.stop_conditions || \"\"}\n                    onChange={(e) =>\n                      setEditFormData({\n                        ...editFormData,\n                        stop_conditions: e.target.value,\n                      })\n                    }\n                    rows={6}\n                    placeholder=\"Explicit opt-out&#10;No engagement after 8 touches\"\n                    className=\"w-full resize-none\"\n                  />\n                </div>\n\n                <div className=\"space-y-2\">\n                  <Label\n                    htmlFor=\"compliance_rules\"\n                    className=\"text-sm font-medium\"\n                  >\n                    Compliance Rules (one per line)\n                  </Label>\n                  <Textarea\n                    id=\"compliance_rules\"\n                    value={editFormData.compliance_rules || \"\"}\n                    onChange={(e) =>\n                      setEditFormData({\n                        ...editFormData,\n                        compliance_rules: e.target.value,\n                      })\n                    }\n                    rows={6}\n                    placeholder=\"No weekend outreach&#10;Unsubscribe links in emails\"\n                    className=\"w-full resize-none\"\n                  />\n                </div>\n              </>\n            )}\n\n            {editSidebar.section === \"strategy\" && editFormData.steps && (\n              <>\n                <div className=\"space-y-2\">\n                  <Label htmlFor=\"plan_summary\" className=\"text-sm font-medium\">\n                    Strategy Summary\n                  </Label>\n                  <Textarea\n                    id=\"plan_summary\"\n                    value={editFormData.plan_summary || \"\"}\n                    onChange={(e) =>\n                      setEditFormData({\n                        ...editFormData,\n                        plan_summary: e.target.value,\n                      })\n                    }\n                    rows={2}\n                    placeholder=\"One-line summary of the outreach strategy\"\n                    className=\"w-full resize-none\"\n                  />\n                </div>\n\n                <div className=\"border-t pt-4\">\n                  <h4 className=\"text-sm font-semibold mb-4\">Strategy Steps</h4>\n                  {(editFormData.steps || []).map(\n                    (step: any, stepIdx: number) => (\n                      <div\n                        key={stepIdx}\n                        className=\"mb-6 pb-6 border-b last:border-0\"\n                      >\n                        <div className=\"flex items-center gap-2 mb-4\">\n                          <Badge variant=\"outline\" className=\"text-xs\">\n                            Step {step.step}\n                          </Badge>\n                          <Badge variant=\"secondary\" className=\"text-xs\">\n                            {step.channel}\n                          </Badge>\n                        </div>\n\n                        <div className=\"space-y-4\">\n                          <div className=\"space-y-2\">\n                            <Label className=\"text-sm font-medium\">Goal</Label>\n                            <Input\n                              value={step.goal}\n                              onChange={(e) => {\n                                const newSteps = [...editFormData.steps];\n                                newSteps[stepIdx].goal = e.target.value;\n                                setEditFormData({\n                                  ...editFormData,\n                                  steps: newSteps,\n                                });\n                              }}\n                              placeholder=\"What this step achieves\"\n                              className=\"w-full\"\n                            />\n                          </div>\n\n                          <div className=\"space-y-2\">\n                            <Label className=\"text-sm font-medium\">\n                              Reasoning\n                            </Label>\n                            <Textarea\n                              value={step.reasoning}\n                              onChange={(e) => {\n                                const newSteps = [...editFormData.steps];\n                                newSteps[stepIdx].reasoning = e.target.value;\n                                setEditFormData({\n                                  ...editFormData,\n                                  steps: newSteps,\n                                });\n                              }}\n                              rows={3}\n                              placeholder=\"Why this step exists\"\n                              className=\"w-full resize-none\"\n                            />\n                          </div>\n\n                          <div className=\"grid grid-cols-2 gap-4\">\n                            <div className=\"space-y-2\">\n                              <Label className=\"text-sm font-medium\">\n                                Delay (hours)\n                              </Label>\n                              <Input\n                                type=\"number\"\n                                value={step.recommended_delay_hours}\n                                onChange={(e) => {\n                                  const newSteps = [...editFormData.steps];\n                                  newSteps[stepIdx].recommended_delay_hours =\n                                    e.target.value;\n                                  setEditFormData({\n                                    ...editFormData,\n                                    steps: newSteps,\n                                  });\n                                }}\n                                placeholder=\"48\"\n                                className=\"w-full\"\n                              />\n                            </div>\n\n                            <div className=\"space-y-2\">\n                              <Label className=\"text-sm font-medium\">\n                                Send Window\n                              </Label>\n                              <Input\n                                value={step.send_window}\n                                onChange={(e) => {\n                                  const newSteps = [...editFormData.steps];\n                                  newSteps[stepIdx].send_window =\n                                    e.target.value;\n                                  setEditFormData({\n                                    ...editFormData,\n                                    steps: newSteps,\n                                  });\n                                }}\n                                placeholder=\"Business hours only\"\n                                className=\"w-full\"\n                              />\n                            </div>\n                          </div>\n\n                          <div className=\"space-y-2\">\n                            <Label className=\"text-sm font-medium\">\n                              Personalization Signals (one per line)\n                            </Label>\n                            <Textarea\n                              value={step.personalization_signals}\n                              onChange={(e) => {\n                                const newSteps = [...editFormData.steps];\n                                newSteps[stepIdx].personalization_signals =\n                                  e.target.value;\n                                setEditFormData({\n                                  ...editFormData,\n                                  steps: newSteps,\n                                });\n                              }}\n                              rows={4}\n                              placeholder=\"Signal 1&#10;Signal 2\"\n                              className=\"w-full resize-none\"\n                            />\n                          </div>\n\n                          {step.channel === \"Voice\" && (\n                            <div className=\"space-y-2\">\n                              <Label className=\"text-sm font-medium\">\n                                Gating Conditions (one per line)\n                              </Label>\n                              <Textarea\n                                value={step.gating_conditions}\n                                onChange={(e) => {\n                                  const newSteps = [...editFormData.steps];\n                                  newSteps[stepIdx].gating_conditions =\n                                    e.target.value;\n                                  setEditFormData({\n                                    ...editFormData,\n                                    steps: newSteps,\n                                  });\n                                }}\n                                rows={4}\n                                placeholder=\"ICP score >= 80&#10;Engagement on 2+ channels\"\n                                className=\"w-full resize-none\"\n                              />\n                            </div>\n                          )}\n                        </div>\n                      </div>\n                    )\n                  )}\n                </div>\n              </>\n            )}\n          </div>\n\n          <SheetFooter className=\"px-6 pb-6\">\n            <div className=\"flex items-center gap-3 w-full\">\n              <Button\n                variant=\"outline\"\n                onClick={() => setEditSidebar({ open: false, section: null })}\n                disabled={isSaving}\n                className=\"flex-1\"\n              >\n                Cancel\n              </Button>\n              <Button\n                onClick={async () => {\n                  if (!selectedLead?._dbLead || !outreachData) return;\n\n                  setIsSaving(true);\n                  try {\n                    // Save based on section\n                    if (editSidebar.section === \"guardrails\") {\n                      // Save guardrails overrides\n                      const updates = [\n                        {\n                          path: \"max_touches\",\n                          value: parseInt(editFormData.max_touches),\n                        },\n                        {\n                          path: \"voice_escalation_allowed\",\n                          value: editFormData.voice_escalation_allowed,\n                        },\n                        {\n                          path: \"voice_escalation_trigger\",\n                          value: editFormData.voice_escalation_trigger,\n                        },\n                        {\n                          path: \"stop_conditions\",\n                          value: editFormData.stop_conditions\n                            .split(\"\\n\")\n                            .filter((s: string) => s.trim()),\n                        },\n                        {\n                          path: \"compliance_rules\",\n                          value: editFormData.compliance_rules\n                            .split(\"\\n\")\n                            .filter((s: string) => s.trim()),\n                        },\n                      ];\n\n                      for (const update of updates) {\n                        await fetch(\n                          `/api/leads/${selectedLead.id}/outreach/override`,\n                          {\n                            method: \"PATCH\",\n                            headers: { \"Content-Type\": \"application/json\" },\n                            body: JSON.stringify({\n                              scope: \"outreach_guardrails\",\n                              entity_id: outreachData.guardrails._id,\n                              path: update.path,\n                              value: update.value,\n                            }),\n                          }\n                        );\n                      }\n                    } else if (editSidebar.section === \"strategy\") {\n                      // Save strategy overrides\n                      await fetch(\n                        `/api/leads/${selectedLead.id}/outreach/override`,\n                        {\n                          method: \"PATCH\",\n                          headers: { \"Content-Type\": \"application/json\" },\n                          body: JSON.stringify({\n                            scope: \"outreach_strategy\",\n                            entity_id: outreachData.strategy._id,\n                            path: \"plan_summary\",\n                            value: editFormData.plan_summary,\n                          }),\n                        }\n                      );\n\n                      // Save step overrides\n                      for (let i = 0; i < editFormData.steps.length; i++) {\n                        const step = editFormData.steps[i];\n                        const updates = [\n                          { path: `steps[${i}].goal`, value: step.goal },\n                          {\n                            path: `steps[${i}].reasoning`,\n                            value: step.reasoning,\n                          },\n                          {\n                            path: `steps[${i}].recommended_delay_hours`,\n                            value: parseInt(step.recommended_delay_hours),\n                          },\n                          {\n                            path: `steps[${i}].send_window`,\n                            value: step.send_window,\n                          },\n                          {\n                            path: `steps[${i}].personalization_signals`,\n                            value: step.personalization_signals\n                              .split(\"\\n\")\n                              .filter((s: string) => s.trim()),\n                          },\n                        ];\n\n                        if (step.gating_conditions) {\n                          updates.push({\n                            path: `steps[${i}].gating_conditions`,\n                            value: step.gating_conditions\n                              .split(\"\\n\")\n                              .filter((s: string) => s.trim()),\n                          });\n                        }\n\n                        for (const update of updates) {\n                          await fetch(\n                            `/api/leads/${selectedLead.id}/outreach/override`,\n                            {\n                              method: \"PATCH\",\n                              headers: { \"Content-Type\": \"application/json\" },\n                              body: JSON.stringify({\n                                scope: \"outreach_strategy\",\n                                entity_id: outreachData.strategy._id,\n                                path: update.path,\n                                value: update.value,\n                              }),\n                            }\n                          );\n                        }\n                      }\n                    }\n\n                    // Refresh data\n                    const refreshResponse = await fetch(\n                      `/api/leads/${selectedLead.id}/outreach`\n                    );\n                    const refreshData = await refreshResponse.json();\n                    if (refreshData.success) {\n                      setOutreachData(refreshData.data);\n                    }\n\n                    setEditSidebar({ open: false, section: null });\n                  } catch (error) {\n                    console.error(\"Error saving:\", error);\n                    alert(\"Failed to save changes\");\n                  } finally {\n                    setIsSaving(false);\n                  }\n                }}\n                disabled={isSaving}\n                className=\"flex-1\"\n              >\n                {isSaving ? \"Saving...\" : \"Save All Changes\"}\n              </Button>\n            </div>\n          </SheetFooter>\n        </SheetContent>\n      </Sheet>\n    </SidebarProvider>\n  );\n}\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  [\n    'path',\n    {\n      d: 'M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z',\n      key: 'c2jq9f',\n    },\n  ],\n  ['rect', { width: '4', height: '12', x: '2', y: '9', key: 'mk3on5' }],\n  ['circle', { cx: '4', cy: '4', r: '2', key: 'bt5ra8' }],\n];\n\n/**\n * @component @name Linkedin\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMTYgOGE2IDYgMCAwIDEgNiA2djdoLTR2LTdhMiAyIDAgMCAwLTItMiAyIDIgMCAwIDAtMiAydjdoLTR2LTdhNiA2IDAgMCAxIDYtNnoiIC8+CiAgPHJlY3Qgd2lkdGg9IjQiIGhlaWdodD0iMTIiIHg9IjIiIHk9IjkiIC8+CiAgPGNpcmNsZSBjeD0iNCIgY3k9IjQiIHI9IjIiIC8+Cjwvc3ZnPgo=) - https://lucide.dev/icons/linkedin\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n * @deprecated Brand icons have been deprecated and are due to be removed, please refer to https://github.com/lucide-icons/lucide/issues/670. We recommend using https://simpleicons.org/?q=linkedin instead. This icon will be removed in v1.0\n */\nconst Linkedin = createLucideIcon('linkedin', __iconNode);\n\nexport default Linkedin;\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  ['rect', { x: '14', y: '3', width: '5', height: '18', rx: '1', key: 'kaeet6' }],\n  ['rect', { x: '5', y: '3', width: '5', height: '18', rx: '1', key: '1wsw3u' }],\n];\n\n/**\n * @component @name Pause\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cmVjdCB4PSIxNCIgeT0iMyIgd2lkdGg9IjUiIGhlaWdodD0iMTgiIHJ4PSIxIiAvPgogIDxyZWN0IHg9IjUiIHk9IjMiIHdpZHRoPSI1IiBoZWlnaHQ9IjE4IiByeD0iMSIgLz4KPC9zdmc+Cg==) - https://lucide.dev/icons/pause\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Pause = createLucideIcon('pause', __iconNode);\n\nexport default Pause;\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  [\n    'path',\n    {\n      d: 'M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2',\n      key: '169zse',\n    },\n  ],\n];\n\n/**\n * @component @name Activity\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMjIgMTJoLTIuNDhhMiAyIDAgMCAwLTEuOTMgMS40NmwtMi4zNSA4LjM2YS4yNS4yNSAwIDAgMS0uNDggMEw5LjI0IDIuMThhLjI1LjI1IDAgMCAwLS40OCAwbC0yLjM1IDguMzZBMiAyIDAgMCAxIDQuNDkgMTJIMiIgLz4KPC9zdmc+Cg==) - https://lucide.dev/icons/activity\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Activity = createLucideIcon('activity', __iconNode);\n\nexport default Activity;\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  [\n    'path',\n    {\n      d: 'M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z',\n      key: '1ffxy3',\n    },\n  ],\n  ['path', { d: 'm21.854 2.147-10.94 10.939', key: '12cjpa' }],\n];\n\n/**\n * @component @name Send\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMTQuNTM2IDIxLjY4NmEuNS41IDAgMCAwIC45MzctLjAyNGw2LjUtMTlhLjQ5Ni40OTYgMCAwIDAtLjYzNS0uNjM1bC0xOSA2LjVhLjUuNSAwIDAgMC0uMDI0LjkzN2w3LjkzIDMuMThhMiAyIDAgMCAxIDEuMTEyIDEuMTF6IiAvPgogIDxwYXRoIGQ9Im0yMS44NTQgMi4xNDctMTAuOTQgMTAuOTM5IiAvPgo8L3N2Zz4K) - https://lucide.dev/icons/send\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Send = createLucideIcon('send', __iconNode);\n\nexport default Send;\n"],"names":[],"mappings":"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","ignoreList":[1,2,3,4]}