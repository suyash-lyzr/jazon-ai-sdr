module.exports=[24291,e=>{"use strict";e.s(["default",()=>l]);var t=e.i(26046);let i=new t.Schema({city:{type:String,default:""},state_or_region:{type:String,default:""},country:{type:String,default:""},time_zone:{type:String,default:""}},{_id:!1}),n=new t.Schema({budget_owner_likelihood:{type:String,enum:["High","Medium","Low"],default:"Low"},decision_maker_likelihood:{type:String,enum:["High","Medium","Low"],default:"Low"},champion_likelihood:{type:String,enum:["High","Medium","Low"],default:"Low"},rationale:{type:String,default:""}},{_id:!1}),a=new t.Schema({full_name:{type:String,required:!0,index:!0},email:{type:String,index:!0,sparse:!0,unique:!0},linkedin_url:{type:String,index:!0,sparse:!0,unique:!0},title:{type:String,default:""},seniority:{type:String,default:""},department:{type:String,default:""},location:{type:i,default:()=>({})},reports_to:{type:String,default:""},decision_authority:{type:n,default:()=>({})},responsibilities:{type:[String],default:[]},pain_points:{type:[String],default:[]},confidence:{type:String,enum:["High","Medium","Low"],default:"Low"}},{timestamps:!0,collection:"personas"});a.statics.findOrCreate=async function(e){if(e.email){let t=await this.findOne({email:e.email.toLowerCase()});if(t)return Object.assign(t,e),await t.save(),t}if(e.linkedin_url){let t=await this.findOne({linkedin_url:e.linkedin_url});if(t)return Object.assign(t,e),await t.save(),t}if(e.full_name){let t=await this.findOne({full_name:RegExp(`^${e.full_name}$`,"i")});if(t)return Object.assign(t,e),await t.save(),t}let t=new this(e);return await t.save(),t};let l=t.default.models.Persona||t.default.model("Persona",a)}];

//# sourceMappingURL=src_models_Persona_ts_b99443cf._.js.map