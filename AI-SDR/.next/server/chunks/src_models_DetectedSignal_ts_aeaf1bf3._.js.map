{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///Users/suyashmankar/Desktop/LYZR/Jazon%20-%20AI%20SDR/AI-SDR-APP/AI-SDR/src/models/DetectedSignal.ts"],"sourcesContent":["import mongoose, { Document, Model, Schema } from \"mongoose\";\n\nexport type SignalType =\n  | \"organizational\"\n  | \"technical\"\n  | \"financial\"\n  | \"intent\"\n  | \"engagement\"\n  | \"persona_change\"\n  | \"other\";\n\nexport interface IDetectedSignal extends Document {\n  lead_id: mongoose.Types.ObjectId;\n  research_run_id: mongoose.Types.ObjectId;\n  type: SignalType;\n  signal: string;\n  source: string;\n  strength: \"high\" | \"medium\" | \"low\";\n  recency: string;\n  evidence: string[];\n  createdAt: Date;\n}\n\nconst DetectedSignalSchema = new Schema<IDetectedSignal>(\n  {\n    lead_id: {\n      type: Schema.Types.ObjectId,\n      ref: \"Lead\",\n      required: true,\n      index: true,\n    },\n    research_run_id: {\n      type: Schema.Types.ObjectId,\n      ref: \"ResearchRun\",\n      required: true,\n    },\n    type: {\n      type: String,\n      enum: [\n        \"organizational\",\n        \"technical\",\n        \"financial\",\n        \"intent\",\n        \"engagement\",\n        \"persona_change\",\n        \"other\",\n      ],\n      required: true,\n    },\n    signal: {\n      type: String,\n      required: true,\n    },\n    source: {\n      type: String,\n      default: \"\",\n    },\n    strength: {\n      type: String,\n      enum: [\"high\", \"medium\", \"low\"],\n      default: \"medium\",\n    },\n    recency: {\n      type: String,\n      default: \"\",\n    },\n    evidence: {\n      type: [String],\n      default: [],\n    },\n  },\n  {\n    timestamps: true,\n    collection: \"detected_signals\",\n  }\n);\n\n// Compound index for efficient queries\nDetectedSignalSchema.index({ lead_id: 1, type: 1 });\n\nconst DetectedSignal: Model<IDetectedSignal> =\n  mongoose.models.DetectedSignal ||\n  mongoose.model<IDetectedSignal>(\"DetectedSignal\", DetectedSignalSchema);\n\nexport default DetectedSignal;\n\n"],"names":[],"mappings":";;;;AAAA;;AAuBA,MAAM,uBAAuB,IAAI,mHAAM,CACrC;IACE,SAAS;QACP,MAAM,mHAAM,CAAC,KAAK,CAAC,QAAQ;QAC3B,KAAK;QACL,UAAU;QACV,OAAO;IACT;IACA,iBAAiB;QACf,MAAM,mHAAM,CAAC,KAAK,CAAC,QAAQ;QAC3B,KAAK;QACL,UAAU;IACZ;IACA,MAAM;QACJ,MAAM;QACN,MAAM;YACJ;YACA;YACA;YACA;YACA;YACA;YACA;SACD;QACD,UAAU;IACZ;IACA,QAAQ;QACN,MAAM;QACN,UAAU;IACZ;IACA,QAAQ;QACN,MAAM;QACN,SAAS;IACX;IACA,UAAU;QACR,MAAM;QACN,MAAM;YAAC;YAAQ;YAAU;SAAM;QAC/B,SAAS;IACX;IACA,SAAS;QACP,MAAM;QACN,SAAS;IACX;IACA,UAAU;QACR,MAAM;YAAC;SAAO;QACd,SAAS,EAAE;IACb;AACF,GACA;IACE,YAAY;IACZ,YAAY;AACd;AAGF,uCAAuC;AACvC,qBAAqB,KAAK,CAAC;IAAE,SAAS;IAAG,MAAM;AAAE;AAEjD,MAAM,iBACJ,oHAAQ,CAAC,MAAM,CAAC,cAAc,IAC9B,oHAAQ,CAAC,KAAK,CAAkB,kBAAkB;uCAErC","debugId":null}}]
}